2020/12/17 16:46:35 [Server0] Make()
2020/12/17 16:46:35 [Server1] Make()
2020/12/17 16:46:35 [Server2] Make()
Test (2A): initial election ...
2020/12/17 16:46:35 [Server1] Start an election, it's currentTerm is 1
2020/12/17 16:46:35 [Server1] Send vote request to Server2
2020/12/17 16:46:35 [Server1] Send vote request to Server0
2020/12/17 16:46:35 [Server0] Received vote request from Server1
2020/12/17 16:46:35 [Server0] Vote true for request from Server1
2020/12/17 16:46:35 [Server2] Received vote request from Server1
2020/12/17 16:46:35 [Server2] Vote true for request from Server1
2020/12/17 16:46:35 [Server1] Received 2 votes, win an election
2020/12/17 16:46:35 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:35 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:35 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:35 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:35 [Server0] Reset it's timer to 639ms milliseconds after 2020-12-17 16:46:35.847333 -0800 PST m=+0.595552322
2020/12/17 16:46:35 [Server2] Reset it's timer to 597ms milliseconds after 2020-12-17 16:46:35.8473 -0800 PST m=+0.595518738
2020/12/17 16:46:36 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:36 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:36 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:36 [Server2] Reset it's timer to 543ms milliseconds after 2020-12-17 16:46:36.047674 -0800 PST m=+0.795892784
2020/12/17 16:46:36 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:36 [Server0] Reset it's timer to 690ms milliseconds after 2020-12-17 16:46:36.047798 -0800 PST m=+0.796016349
2020/12/17 16:46:36 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:36 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:36 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:36 [Server2] Reset it's timer to 731ms milliseconds after 2020-12-17 16:46:36.249208 -0800 PST m=+0.997425579
2020/12/17 16:46:36 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:36 [Server0] Reset it's timer to 607ms milliseconds after 2020-12-17 16:46:36.249286 -0800 PST m=+0.997503529
2020/12/17 16:46:36 [Sleep] Before sleep
2020/12/17 16:46:36 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:36 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:36 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:36 [Server0] Reset it's timer to 570ms milliseconds after 2020-12-17 16:46:36.449876 -0800 PST m=+1.198092481
2020/12/17 16:46:36 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:36 [Server2] Reset it's timer to 606ms milliseconds after 2020-12-17 16:46:36.450067 -0800 PST m=+1.198284321
2020/12/17 16:46:36 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:36 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:36 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:36 [Server2] Reset it's timer to 710ms milliseconds after 2020-12-17 16:46:36.649649 -0800 PST m=+1.397864634
2020/12/17 16:46:36 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:36 [Server0] Reset it's timer to 572ms milliseconds after 2020-12-17 16:46:36.649745 -0800 PST m=+1.397960695
2020/12/17 16:46:36 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:36 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:36 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:36 [Server2] Reset it's timer to 563ms milliseconds after 2020-12-17 16:46:36.851859 -0800 PST m=+1.600074110
2020/12/17 16:46:36 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:36 [Server0] Reset it's timer to 630ms milliseconds after 2020-12-17 16:46:36.852009 -0800 PST m=+1.600223644
2020/12/17 16:46:37 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:37 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:37 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:37 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:37 [Server0] Reset it's timer to 787ms milliseconds after 2020-12-17 16:46:37.054219 -0800 PST m=+1.802433653
2020/12/17 16:46:37 [Server2] Reset it's timer to 771ms milliseconds after 2020-12-17 16:46:37.054087 -0800 PST m=+1.802300809
2020/12/17 16:46:37 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:37 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:37 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:37 [Server0] Reset it's timer to 644ms milliseconds after 2020-12-17 16:46:37.25485 -0800 PST m=+2.003063763
2020/12/17 16:46:37 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:37 [Server2] Reset it's timer to 595ms milliseconds after 2020-12-17 16:46:37.254912 -0800 PST m=+2.003125013
2020/12/17 16:46:37 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:37 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:37 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:37 [Server2] Reset it's timer to 560ms milliseconds after 2020-12-17 16:46:37.455629 -0800 PST m=+2.203842016
2020/12/17 16:46:37 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:37 [Server0] Reset it's timer to 639ms milliseconds after 2020-12-17 16:46:37.455716 -0800 PST m=+2.203928786
2020/12/17 16:46:37 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:37 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:37 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:37 [Server2] Reset it's timer to 613ms milliseconds after 2020-12-17 16:46:37.660596 -0800 PST m=+2.408808166
2020/12/17 16:46:37 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:37 [Server0] Reset it's timer to 625ms milliseconds after 2020-12-17 16:46:37.660663 -0800 PST m=+2.408874576
2020/12/17 16:46:37 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:37 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:37 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:37 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:37 [Server2] Reset it's timer to 717ms milliseconds after 2020-12-17 16:46:37.861296 -0800 PST m=+2.609506535
2020/12/17 16:46:37 [Server0] Reset it's timer to 643ms milliseconds after 2020-12-17 16:46:37.861267 -0800 PST m=+2.609477501
2020/12/17 16:46:38 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:38 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:38 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:38 [Server2] Reset it's timer to 629ms milliseconds after 2020-12-17 16:46:38.061435 -0800 PST m=+2.809644992
2020/12/17 16:46:38 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:38 [Server0] Reset it's timer to 791ms milliseconds after 2020-12-17 16:46:38.061503 -0800 PST m=+2.809713295
2020/12/17 16:46:38 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:38 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:38 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:38 [Server2] Reset it's timer to 688ms milliseconds after 2020-12-17 16:46:38.265787 -0800 PST m=+3.013996340
2020/12/17 16:46:38 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:38 [Server0] Reset it's timer to 684ms milliseconds after 2020-12-17 16:46:38.265894 -0800 PST m=+3.014103096
2020/12/17 16:46:38 [Sleep] After sleep
2020/12/17 16:46:38 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:38 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:38 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:38 [Server2] Reset it's timer to 742ms milliseconds after 2020-12-17 16:46:38.465698 -0800 PST m=+3.213905976
2020/12/17 16:46:38 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:38 [Server0] Reset it's timer to 645ms milliseconds after 2020-12-17 16:46:38.465731 -0800 PST m=+3.213939430
2020/12/17 16:46:38 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:38 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:38 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:38 [Server2] Reset it's timer to 650ms milliseconds after 2020-12-17 16:46:38.667014 -0800 PST m=+3.415221709
2020/12/17 16:46:38 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:38 [Server0] Reset it's timer to 571ms milliseconds after 2020-12-17 16:46:38.667157 -0800 PST m=+3.415364756
  ... Passed --   3.5  3   32    3554    0
2020/12/17 16:46:38 [Server0] Make()
2020/12/17 16:46:38 [Server1] Make()
2020/12/17 16:46:38 [Server2] Make()
Test (2A): election after network failure ...
2020/12/17 16:46:39 [Server2] Start an election, it's currentTerm is 1
2020/12/17 16:46:39 [Server2] Send vote request to Server1
2020/12/17 16:46:39 [Server2] Send vote request to Server0
2020/12/17 16:46:39 [Server0] Received vote request from Server2
2020/12/17 16:46:39 [Server0] Vote true for request from Server2
2020/12/17 16:46:39 [Server1] Received vote request from Server2
2020/12/17 16:46:39 [Server1] Vote true for request from Server2
2020/12/17 16:46:39 [Server2] Received 2 votes, win an election
2020/12/17 16:46:39 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:39 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:39 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:39 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:39 [Server1] Reset it's timer to 764ms milliseconds after 2020-12-17 16:46:39.465713 -0800 PST m=+4.213916946
2020/12/17 16:46:39 [Server0] Reset it's timer to 712ms milliseconds after 2020-12-17 16:46:39.465737 -0800 PST m=+4.213941077
2020/12/17 16:46:39 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:39 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:39 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:39 [Server0] Reset it's timer to 535ms milliseconds after 2020-12-17 16:46:39.666459 -0800 PST m=+4.414662184
2020/12/17 16:46:39 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:39 [Server1] Reset it's timer to 662ms milliseconds after 2020-12-17 16:46:39.66654 -0800 PST m=+4.414743571
2020/12/17 16:46:39 [Progress] Line 58 passed
2020/12/17 16:46:39 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:39 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:40 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:40 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:40 [Server0] Start an election, it's currentTerm is 2
2020/12/17 16:46:40 [Server0] Send vote request to Server2
2020/12/17 16:46:40 [Server0] Send vote request to Server1
2020/12/17 16:46:40 [Server1] Received vote request from Server0
2020/12/17 16:46:40 [Server1] Vote true for request from Server0
2020/12/17 16:46:40 [Server0] Received 2 votes, win an election
2020/12/17 16:46:40 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:40 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:40 [Server1] Received append entries with equal term form Server0
2020/12/17 16:46:40 [Server1] Reset it's timer to 758ms milliseconds after 2020-12-17 16:46:40.207685 -0800 PST m=+4.955886051
2020/12/17 16:46:40 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:40 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:40 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:40 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:40 [Server1] Received append entries with equal term form Server0
2020/12/17 16:46:40 [Server1] Reset it's timer to 620ms milliseconds after 2020-12-17 16:46:40.407969 -0800 PST m=+5.156169007
2020/12/17 16:46:40 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:40 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:40 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:40 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:40 [Server1] Received append entries with equal term form Server0
2020/12/17 16:46:40 [Server1] Reset it's timer to 539ms milliseconds after 2020-12-17 16:46:40.610942 -0800 PST m=+5.359141789
2020/12/17 16:46:40 [Progress] Line 62 passed
2020/12/17 16:46:40 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:40 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:40 [Server1] Received append entries with lower term form Server2
2020/12/17 16:46:40 [Server0] Received append entries with lower term form Server2
2020/12/17 16:46:40 [Server2] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:46:40 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:40 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:40 [Server2] Received append entries with equal term form Server0
2020/12/17 16:46:40 [Server2] Reset it's timer to 644ms milliseconds after 2020-12-17 16:46:40.812353 -0800 PST m=+5.560551349
2020/12/17 16:46:40 [Server1] Received append entries with equal term form Server0
2020/12/17 16:46:40 [Server1] Reset it's timer to 672ms milliseconds after 2020-12-17 16:46:40.81244 -0800 PST m=+5.560638492
2020/12/17 16:46:40 [Server2] Stop sending heartbeat because it is no longer leader
2020/12/17 16:46:41 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:41 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:41 [Server2] Received append entries with equal term form Server0
2020/12/17 16:46:41 [Server2] Reset it's timer to 538ms milliseconds after 2020-12-17 16:46:41.014235 -0800 PST m=+5.762433155
2020/12/17 16:46:41 [Server1] Received append entries with equal term form Server0
2020/12/17 16:46:41 [Server1] Reset it's timer to 572ms milliseconds after 2020-12-17 16:46:41.014301 -0800 PST m=+5.762498720
2020/12/17 16:46:41 [Progress] Line 67 passed
2020/12/17 16:46:41 [Disconnect] Server0 and Server1 has disconnected
2020/12/17 16:46:41 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:41 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:41 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:46:41 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:41 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:41 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:41 [Server2] Start an election, it's currentTerm is 3
2020/12/17 16:46:41 [Server2] Send vote request to Server1
2020/12/17 16:46:41 [Server2] Send vote request to Server0
2020/12/17 16:46:41 [Server1] Start an election, it's currentTerm is 3
2020/12/17 16:46:41 [Server1] Send vote request to Server2
2020/12/17 16:46:41 [Server1] Send vote request to Server0
2020/12/17 16:46:41 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:41 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:41 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:41 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:41 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:42 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:42 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:42 [Server2] Start an election, it's currentTerm is 4
2020/12/17 16:46:42 [Server2] Send vote request to Server1
2020/12/17 16:46:42 [Server2] Send vote request to Server0
2020/12/17 16:46:42 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:46:42 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:42 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:42 [Server1] Start an election, it's currentTerm is 4
2020/12/17 16:46:42 [Server1] Send vote request to Server2
2020/12/17 16:46:42 [Server1] Send vote request to Server0
2020/12/17 16:46:42 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:42 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:42 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:46:42 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:46:42 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:42 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:42 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:42 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:42 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:42 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:42 [Server1] Start an election, it's currentTerm is 5
2020/12/17 16:46:42 [Server1] Send vote request to Server2
2020/12/17 16:46:42 [Server1] Send vote request to Server0
2020/12/17 16:46:42 [Server2] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:46:42 [Server2] Start an election, it's currentTerm is 5
2020/12/17 16:46:42 [Server2] Send vote request to Server1
2020/12/17 16:46:42 [Server2] Send vote request to Server0
2020/12/17 16:46:43 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:43 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:43 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:43 [Check]Server0 is not connected
2020/12/17 16:46:43 [Check]Server1 is not connected
2020/12/17 16:46:43 [Check]Server2 is not leader
2020/12/17 16:46:43 [Progress] Line 75 passed
2020/12/17 16:46:43 [Reconnect]Server1 has reconnected
2020/12/17 16:46:43 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:43 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:43 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:43 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:43 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:43 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:43 [Server2] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:46:43 [Server2] Start an election, it's currentTerm is 6
2020/12/17 16:46:43 [Server2] Send vote request to Server1
2020/12/17 16:46:43 [Server2] Send vote request to Server0
2020/12/17 16:46:43 [Server1] Received vote request from Server2
2020/12/17 16:46:43 [Server1] Vote true for request from Server2
2020/12/17 16:46:43 [Server2] Received 2 votes, win an election
2020/12/17 16:46:43 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:43 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:43 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:43 [Server1] Reset it's timer to 674ms milliseconds after 2020-12-17 16:46:43.486479 -0800 PST m=+8.234666865
2020/12/17 16:46:43 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:46:43 [Progress] Line 79 passed
2020/12/17 16:46:43 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:43 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:43 [Server1] Received append entries with lower term form Server0
2020/12/17 16:46:43 [Server2] Received append entries with lower term form Server0
2020/12/17 16:46:43 [Server0] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:46:43 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:46:43 [Server0] Received vote request from Server1
2020/12/17 16:46:43 [Server0] Vote false for request from Server1, because its term 6 is greater than that in request(term 4)
2020/12/17 16:46:43 [Server1] End the election not in candidate state
2020/12/17 16:46:43 [Server1] End the election not in candidate state
2020/12/17 16:46:43 [Server1] End the election not in candidate state
2020/12/17 16:46:43 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:43 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:43 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:43 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:43 [Server1] Reset it's timer to 512ms milliseconds after 2020-12-17 16:46:43.687631 -0800 PST m=+8.435817458
2020/12/17 16:46:43 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:43 [Server0] Reset it's timer to 538ms milliseconds after 2020-12-17 16:46:43.687686 -0800 PST m=+8.435872418
2020/12/17 16:46:43 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:46:43 [Server0] Stop sending heartbeat because it is no longer leader
2020/12/17 16:46:43 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:43 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:43 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:43 [Server1] Reset it's timer to 511ms milliseconds after 2020-12-17 16:46:43.892946 -0800 PST m=+8.641131804
2020/12/17 16:46:43 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:43 [Server0] Reset it's timer to 776ms milliseconds after 2020-12-17 16:46:43.893035 -0800 PST m=+8.641221121
2020/12/17 16:46:43 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:44 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:44 [Progress] Line 84 passed
  ... Passed --   5.3  3   76    5934    0
2020/12/17 16:46:44 [Server0] Make()
2020/12/17 16:46:44 [Server1] Make()
2020/12/17 16:46:44 [Server2] Make()
Test (2A): initial election ...
2020/12/17 16:46:44 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:46:44 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:46:44 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:44 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:44 [Server2] Start an election, it's currentTerm is 1
2020/12/17 16:46:44 [Server2] Send vote request to Server1
2020/12/17 16:46:44 [Server2] Send vote request to Server0
2020/12/17 16:46:44 [Server1] Received vote request from Server2
2020/12/17 16:46:44 [Server0] Received vote request from Server2
2020/12/17 16:46:44 [Server0] Vote true for request from Server2
2020/12/17 16:46:44 [Server1] Vote true for request from Server2
2020/12/17 16:46:44 [Server2] Received 2 votes, win an election
2020/12/17 16:46:44 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:44 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:44 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:44 [Server1] Reset it's timer to 753ms milliseconds after 2020-12-17 16:46:44.59539 -0800 PST m=+9.343572678
2020/12/17 16:46:44 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:44 [Server0] Reset it's timer to 796ms milliseconds after 2020-12-17 16:46:44.595437 -0800 PST m=+9.343619833
2020/12/17 16:46:44 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:46:44 [Sleep] Before sleep
2020/12/17 16:46:44 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:46:44 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:44 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:44 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:44 [Server1] Reset it's timer to 736ms milliseconds after 2020-12-17 16:46:44.798658 -0800 PST m=+9.546840611
2020/12/17 16:46:44 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:44 [Server0] Reset it's timer to 725ms milliseconds after 2020-12-17 16:46:44.798733 -0800 PST m=+9.546915724
2020/12/17 16:46:44 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:44 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:44 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:44 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:44 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:44 [Server0] Reset it's timer to 752ms milliseconds after 2020-12-17 16:46:44.998884 -0800 PST m=+9.747065766
2020/12/17 16:46:44 [Server1] Reset it's timer to 723ms milliseconds after 2020-12-17 16:46:44.998838 -0800 PST m=+9.747019284
2020/12/17 16:46:45 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:45 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:45 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:45 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:45 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:45 [Server0] Reset it's timer to 761ms milliseconds after 2020-12-17 16:46:45.199588 -0800 PST m=+9.947768656
2020/12/17 16:46:45 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:45 [Server1] Reset it's timer to 729ms milliseconds after 2020-12-17 16:46:45.199623 -0800 PST m=+9.947803791
2020/12/17 16:46:45 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:45 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:46:45 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:45 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:45 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:45 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:45 [Server1] Reset it's timer to 621ms milliseconds after 2020-12-17 16:46:45.405082 -0800 PST m=+10.153261742
2020/12/17 16:46:45 [Server0] Reset it's timer to 714ms milliseconds after 2020-12-17 16:46:45.405021 -0800 PST m=+10.153200764
2020/12/17 16:46:45 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:45 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:46:45 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:45 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:45 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:45 [Server1] Reset it's timer to 666ms milliseconds after 2020-12-17 16:46:45.604927 -0800 PST m=+10.353106220
2020/12/17 16:46:45 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:45 [Server0] Reset it's timer to 674ms milliseconds after 2020-12-17 16:46:45.604959 -0800 PST m=+10.353137944
2020/12/17 16:46:45 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:46:45 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:45 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:45 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:45 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:45 [Server1] Reset it's timer to 512ms milliseconds after 2020-12-17 16:46:45.806038 -0800 PST m=+10.554216425
2020/12/17 16:46:45 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:45 [Server0] Reset it's timer to 652ms milliseconds after 2020-12-17 16:46:45.806126 -0800 PST m=+10.554304193
2020/12/17 16:46:46 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:46 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:46 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:46 [Server0] Reset it's timer to 769ms milliseconds after 2020-12-17 16:46:46.006126 -0800 PST m=+10.754303170
2020/12/17 16:46:46 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:46 [Server1] Reset it's timer to 632ms milliseconds after 2020-12-17 16:46:46.006161 -0800 PST m=+10.754338140
2020/12/17 16:46:46 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:46 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:46:46 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:46 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:46 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:46 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:46 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:46 [Server1] Reset it's timer to 785ms milliseconds after 2020-12-17 16:46:46.206464 -0800 PST m=+10.954640075
2020/12/17 16:46:46 [Server0] Reset it's timer to 583ms milliseconds after 2020-12-17 16:46:46.20648 -0800 PST m=+10.954656543
2020/12/17 16:46:46 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:46:46 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:46 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:46 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:46 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:46 [Server0] Reset it's timer to 732ms milliseconds after 2020-12-17 16:46:46.411789 -0800 PST m=+11.159964236
2020/12/17 16:46:46 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:46 [Server1] Reset it's timer to 659ms milliseconds after 2020-12-17 16:46:46.41191 -0800 PST m=+11.160085930
2020/12/17 16:46:46 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:46:46 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:46 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:46 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:46 [Server1] Reset it's timer to 664ms milliseconds after 2020-12-17 16:46:46.612028 -0800 PST m=+11.360203325
2020/12/17 16:46:46 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:46 [Server0] Reset it's timer to 692ms milliseconds after 2020-12-17 16:46:46.612085 -0800 PST m=+11.360259409
2020/12/17 16:46:46 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:46 [Sleep] After sleep
2020/12/17 16:46:46 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:46 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:46 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:46 [Server1] Reset it's timer to 677ms milliseconds after 2020-12-17 16:46:46.81673 -0800 PST m=+11.564903894
2020/12/17 16:46:46 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:46 [Server0] Reset it's timer to 764ms milliseconds after 2020-12-17 16:46:46.816881 -0800 PST m=+11.565054689
2020/12/17 16:46:46 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:46:46 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:47 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:47 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:47 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:47 [Server1] Reset it's timer to 694ms milliseconds after 2020-12-17 16:46:47.018182 -0800 PST m=+11.766354850
2020/12/17 16:46:47 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:47 [Server0] Reset it's timer to 549ms milliseconds after 2020-12-17 16:46:47.018274 -0800 PST m=+11.766447502
2020/12/17 16:46:47 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:46:47 [Server0] Error when sending heartbeat to Server1
  ... Passed --   3.1  3   28    3114    0
2020/12/17 16:46:47 [Server0] Make()
2020/12/17 16:46:47 [Server1] Make()
2020/12/17 16:46:47 [Server2] Make()
Test (2A): election after network failure ...
2020/12/17 16:46:47 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:47 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:47 [Server2] Start an election, it's currentTerm is 1
2020/12/17 16:46:47 [Server2] Send vote request to Server1
2020/12/17 16:46:47 [Server2] Send vote request to Server0
2020/12/17 16:46:47 [Server1] Received vote request from Server2
2020/12/17 16:46:47 [Server1] Vote true for request from Server2
2020/12/17 16:46:47 [Server0] Received vote request from Server2
2020/12/17 16:46:47 [Server0] Vote true for request from Server2
2020/12/17 16:46:47 [Server2] Received 2 votes, win an election
2020/12/17 16:46:47 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:47 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:47 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:47 [Server1] Reset it's timer to 768ms milliseconds after 2020-12-17 16:46:47.796095 -0800 PST m=+12.544265109
2020/12/17 16:46:47 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:47 [Server0] Reset it's timer to 640ms milliseconds after 2020-12-17 16:46:47.796158 -0800 PST m=+12.544328409
2020/12/17 16:46:47 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:46:47 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:47 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:47 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:47 [Server1] Reset it's timer to 712ms milliseconds after 2020-12-17 16:46:47.997096 -0800 PST m=+12.745264869
2020/12/17 16:46:47 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:47 [Server0] Reset it's timer to 779ms milliseconds after 2020-12-17 16:46:47.997199 -0800 PST m=+12.745368229
2020/12/17 16:46:48 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:46:48 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:48 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:48 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:48 [Server0] Reset it's timer to 501ms milliseconds after 2020-12-17 16:46:48.198586 -0800 PST m=+12.946754238
2020/12/17 16:46:48 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:48 [Server1] Reset it's timer to 761ms milliseconds after 2020-12-17 16:46:48.198679 -0800 PST m=+12.946847609
2020/12/17 16:46:48 [Progress] Line 58 passed
2020/12/17 16:46:48 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:46:48 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:48 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:48 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:48 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:46:48 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:48 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:48 [Server0] Start an election, it's currentTerm is 2
2020/12/17 16:46:48 [Server0] Send vote request to Server2
2020/12/17 16:46:48 [Server0] Send vote request to Server1
2020/12/17 16:46:48 [Server1] Received vote request from Server0
2020/12/17 16:46:48 [Server1] Vote true for request from Server0
2020/12/17 16:46:48 [Server0] Received 2 votes, win an election
2020/12/17 16:46:48 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:48 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:48 [Server1] Received append entries with equal term form Server0
2020/12/17 16:46:48 [Server1] Reset it's timer to 549ms milliseconds after 2020-12-17 16:46:48.703644 -0800 PST m=+13.451810008
2020/12/17 16:46:48 [Progress] Line 62 passed
2020/12/17 16:46:48 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:48 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:48 [Server1] Received append entries with lower term form Server2
2020/12/17 16:46:48 [Server0] Received append entries with lower term form Server2
2020/12/17 16:46:48 [Server2] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:46:48 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:48 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:48 [Server1] Received append entries with equal term form Server0
2020/12/17 16:46:48 [Server1] Reset it's timer to 656ms milliseconds after 2020-12-17 16:46:48.903939 -0800 PST m=+13.652104557
2020/12/17 16:46:48 [Server2] Received append entries with equal term form Server0
2020/12/17 16:46:48 [Server2] Reset it's timer to 662ms milliseconds after 2020-12-17 16:46:48.903995 -0800 PST m=+13.652160118
2020/12/17 16:46:49 [Server2] Stop sending heartbeat because it is no longer leader
2020/12/17 16:46:49 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:49 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:49 [Server2] Received append entries with equal term form Server0
2020/12/17 16:46:49 [Server2] Reset it's timer to 665ms milliseconds after 2020-12-17 16:46:49.106059 -0800 PST m=+13.854223814
2020/12/17 16:46:49 [Server1] Received append entries with equal term form Server0
2020/12/17 16:46:49 [Server1] Reset it's timer to 525ms milliseconds after 2020-12-17 16:46:49.106134 -0800 PST m=+13.854298955
2020/12/17 16:46:49 [Progress] Line 67 passed
2020/12/17 16:46:49 [Disconnect] Server0 and Server1 has disconnected
2020/12/17 16:46:49 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:49 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:49 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:49 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:49 [Server1] Start an election, it's currentTerm is 3
2020/12/17 16:46:49 [Server1] Send vote request to Server2
2020/12/17 16:46:49 [Server1] Send vote request to Server0
2020/12/17 16:46:49 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:49 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:49 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:49 [Server2] Start an election, it's currentTerm is 3
2020/12/17 16:46:49 [Server2] Send vote request to Server1
2020/12/17 16:46:49 [Server2] Send vote request to Server0
2020/12/17 16:46:49 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:49 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:50 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:50 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:50 [Server1] Start an election, it's currentTerm is 4
2020/12/17 16:46:50 [Server1] Send vote request to Server2
2020/12/17 16:46:50 [Server1] Send vote request to Server0
2020/12/17 16:46:50 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:50 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:50 [Server2] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:46:50 [Server2] Start an election, it's currentTerm is 4
2020/12/17 16:46:50 [Server2] Send vote request to Server1
2020/12/17 16:46:50 [Server2] Send vote request to Server0
2020/12/17 16:46:50 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:46:50 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:50 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:50 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:50 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:50 [Server1] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:46:50 [Server1] Start an election, it's currentTerm is 5
2020/12/17 16:46:50 [Server1] Send vote request to Server2
2020/12/17 16:46:50 [Server1] Send vote request to Server0
2020/12/17 16:46:50 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:50 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:51 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:51 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:51 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:51 [Server2] Start an election, it's currentTerm is 5
2020/12/17 16:46:51 [Server2] Send vote request to Server1
2020/12/17 16:46:51 [Server2] Send vote request to Server0
2020/12/17 16:46:51 [Check]Server0 is not connected
2020/12/17 16:46:51 [Check]Server1 is not connected
2020/12/17 16:46:51 [Check]Server2 is not leader
2020/12/17 16:46:51 [Progress] Line 75 passed
2020/12/17 16:46:51 [Reconnect]Server1 has reconnected
2020/12/17 16:46:51 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:51 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:51 [Server1] Start an election, it's currentTerm is 6
2020/12/17 16:46:51 [Server1] Send vote request to Server2
2020/12/17 16:46:51 [Server1] Send vote request to Server0
2020/12/17 16:46:51 [Server2] Received vote request from Server1
2020/12/17 16:46:51 [Server2] Vote true for request from Server1
2020/12/17 16:46:51 [Server1] Received 2 votes, win an election
2020/12/17 16:46:51 [Server1] End the election not in candidate state
2020/12/17 16:46:51 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:51 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:51 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:51 [Server2] Reset it's timer to 732ms milliseconds after 2020-12-17 16:46:51.452643 -0800 PST m=+16.200798093
2020/12/17 16:46:51 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:51 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:51 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:51 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:46:51 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:51 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:51 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:51 [Server2] Reset it's timer to 762ms milliseconds after 2020-12-17 16:46:51.656337 -0800 PST m=+16.404491230
2020/12/17 16:46:51 [Progress] Line 79 passed
2020/12/17 16:46:51 [Server0] Sent heartbeat to Server2
2020/12/17 16:46:51 [Server0] Sent heartbeat to Server1
2020/12/17 16:46:51 [Server2] Received append entries with lower term form Server0
2020/12/17 16:46:51 [Server1] Received append entries with lower term form Server0
2020/12/17 16:46:51 [Server0] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:46:51 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:51 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:51 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:51 [Server2] Reset it's timer to 518ms milliseconds after 2020-12-17 16:46:51.860806 -0800 PST m=+16.608958850
2020/12/17 16:46:51 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:51 [Server0] Reset it's timer to 670ms milliseconds after 2020-12-17 16:46:51.860883 -0800 PST m=+16.609035776
2020/12/17 16:46:51 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:51 [Server0] Stop sending heartbeat because it is no longer leader
2020/12/17 16:46:52 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:52 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:52 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:52 [Server2] Reset it's timer to 609ms milliseconds after 2020-12-17 16:46:52.061174 -0800 PST m=+16.809326798
2020/12/17 16:46:52 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:52 [Server0] Reset it's timer to 642ms milliseconds after 2020-12-17 16:46:52.061243 -0800 PST m=+16.809395393
2020/12/17 16:46:52 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:46:52 [Server0] Received vote request from Server1
2020/12/17 16:46:52 [Server0] Vote false for request from Server1, because its term 6 is greater than that in request(term 5)
2020/12/17 16:46:52 [Server1] End the election not in candidate state
2020/12/17 16:46:52 [Progress] Line 84 passed
  ... Passed --   5.1  3   72    5742    0
2020/12/17 16:46:52 [Server0] Make()
2020/12/17 16:46:52 [Server1] Make()
2020/12/17 16:46:52 [Server2] Make()
Test (2A): initial election ...
2020/12/17 16:46:52 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:52 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:52 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:46:52 [Server2] Start an election, it's currentTerm is 1
2020/12/17 16:46:52 [Server2] Send vote request to Server1
2020/12/17 16:46:52 [Server2] Send vote request to Server0
2020/12/17 16:46:52 [Server1] Received vote request from Server2
2020/12/17 16:46:52 [Server1] Vote true for request from Server2
2020/12/17 16:46:52 [Server0] Received vote request from Server2
2020/12/17 16:46:52 [Server0] Vote true for request from Server2
2020/12/17 16:46:52 [Server2] Received 2 votes, win an election
2020/12/17 16:46:52 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:52 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:52 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:52 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:52 [Server1] Reset it's timer to 665ms milliseconds after 2020-12-17 16:46:52.815943 -0800 PST m=+17.564091940
2020/12/17 16:46:52 [Server0] Reset it's timer to 719ms milliseconds after 2020-12-17 16:46:52.815891 -0800 PST m=+17.564040394
2020/12/17 16:46:53 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:53 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:53 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:53 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:53 [Server1] Reset it's timer to 580ms milliseconds after 2020-12-17 16:46:53.02069 -0800 PST m=+17.768838709
2020/12/17 16:46:53 [Server0] Reset it's timer to 651ms milliseconds after 2020-12-17 16:46:53.020703 -0800 PST m=+17.768851310
2020/12/17 16:46:53 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:53 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:53 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:53 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:53 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:53 [Server1] Reset it's timer to 746ms milliseconds after 2020-12-17 16:46:53.222237 -0800 PST m=+17.970384867
2020/12/17 16:46:53 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:53 [Server0] Reset it's timer to 620ms milliseconds after 2020-12-17 16:46:53.222352 -0800 PST m=+17.970500098
2020/12/17 16:46:53 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:46:53 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:53 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:46:53 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:53 [Sleep] Before sleep
2020/12/17 16:46:53 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:53 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:53 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:53 [Server1] Reset it's timer to 624ms milliseconds after 2020-12-17 16:46:53.423266 -0800 PST m=+18.171413055
2020/12/17 16:46:53 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:53 [Server0] Reset it's timer to 773ms milliseconds after 2020-12-17 16:46:53.423363 -0800 PST m=+18.171509381
2020/12/17 16:46:53 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:46:53 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:53 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:53 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:53 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:53 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:53 [Server0] Reset it's timer to 751ms milliseconds after 2020-12-17 16:46:53.625772 -0800 PST m=+18.373917725
2020/12/17 16:46:53 [Server1] Reset it's timer to 676ms milliseconds after 2020-12-17 16:46:53.625708 -0800 PST m=+18.373854234
2020/12/17 16:46:53 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:46:53 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:53 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:53 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:53 [Server1] Reset it's timer to 718ms milliseconds after 2020-12-17 16:46:53.826336 -0800 PST m=+18.574481585
2020/12/17 16:46:53 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:53 [Server0] Reset it's timer to 713ms milliseconds after 2020-12-17 16:46:53.826427 -0800 PST m=+18.574572566
2020/12/17 16:46:54 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:54 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:54 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:54 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:54 [Server0] Reset it's timer to 550ms milliseconds after 2020-12-17 16:46:54.026829 -0800 PST m=+18.774973669
2020/12/17 16:46:54 [Server1] Reset it's timer to 692ms milliseconds after 2020-12-17 16:46:54.026784 -0800 PST m=+18.774928716
2020/12/17 16:46:54 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:54 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:54 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:54 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:54 [Server1] Reset it's timer to 517ms milliseconds after 2020-12-17 16:46:54.228732 -0800 PST m=+18.976875992
2020/12/17 16:46:54 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:54 [Server0] Reset it's timer to 609ms milliseconds after 2020-12-17 16:46:54.228807 -0800 PST m=+18.976950262
2020/12/17 16:46:54 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:54 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:46:54 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:46:54 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:54 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:54 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:54 [Server1] Reset it's timer to 669ms milliseconds after 2020-12-17 16:46:54.428943 -0800 PST m=+19.177085459
2020/12/17 16:46:54 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:54 [Server0] Reset it's timer to 682ms milliseconds after 2020-12-17 16:46:54.428999 -0800 PST m=+19.177141636
2020/12/17 16:46:54 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:46:54 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:46:54 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:54 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:54 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:54 [Server0] Reset it's timer to 515ms milliseconds after 2020-12-17 16:46:54.631637 -0800 PST m=+19.379779283
2020/12/17 16:46:54 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:54 [Server1] Reset it's timer to 759ms milliseconds after 2020-12-17 16:46:54.631725 -0800 PST m=+19.379867136
2020/12/17 16:46:54 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:54 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:46:54 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:54 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:54 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:54 [Server1] Reset it's timer to 652ms milliseconds after 2020-12-17 16:46:54.835205 -0800 PST m=+19.583346178
2020/12/17 16:46:54 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:54 [Server0] Reset it's timer to 787ms milliseconds after 2020-12-17 16:46:54.835277 -0800 PST m=+19.583418075
2020/12/17 16:46:54 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:46:54 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:55 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:55 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:55 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:55 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:55 [Server1] Reset it's timer to 696ms milliseconds after 2020-12-17 16:46:55.035658 -0800 PST m=+19.783798149
2020/12/17 16:46:55 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:55 [Server0] Reset it's timer to 549ms milliseconds after 2020-12-17 16:46:55.035715 -0800 PST m=+19.783855353
2020/12/17 16:46:55 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:55 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:55 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:55 [Server1] Reset it's timer to 543ms milliseconds after 2020-12-17 16:46:55.237061 -0800 PST m=+19.985200450
2020/12/17 16:46:55 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:55 [Server0] Reset it's timer to 757ms milliseconds after 2020-12-17 16:46:55.237145 -0800 PST m=+19.985284788
2020/12/17 16:46:55 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:46:55 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:46:55 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:55 [Sleep] After sleep
2020/12/17 16:46:55 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:55 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:55 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:55 [Server1] Reset it's timer to 750ms milliseconds after 2020-12-17 16:46:55.438543 -0800 PST m=+20.186681111
2020/12/17 16:46:55 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:55 [Server0] Reset it's timer to 735ms milliseconds after 2020-12-17 16:46:55.438595 -0800 PST m=+20.186733155
2020/12/17 16:46:55 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:46:55 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:55 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:55 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:55 [Server0] Reset it's timer to 569ms milliseconds after 2020-12-17 16:46:55.642917 -0800 PST m=+20.391054955
2020/12/17 16:46:55 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:55 [Server1] Reset it's timer to 641ms milliseconds after 2020-12-17 16:46:55.642989 -0800 PST m=+20.391126730
2020/12/17 16:46:55 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:46:55 [Server1] Error when sending vote request to server 0, retry
  ... Passed --   3.6  3   32    3554    0
2020/12/17 16:46:55 [Server0] Make()
2020/12/17 16:46:55 [Server1] Make()
2020/12/17 16:46:55 [Server2] Make()
Test (2A): election after network failure ...
2020/12/17 16:46:55 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:55 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:56 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:56 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:56 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:56 [Server1] Start an election, it's currentTerm is 1
2020/12/17 16:46:56 [Server1] Send vote request to Server2
2020/12/17 16:46:56 [Server1] Send vote request to Server0
2020/12/17 16:46:56 [Server2] Received vote request from Server1
2020/12/17 16:46:56 [Server2] Vote true for request from Server1
2020/12/17 16:46:56 [Server0] Received vote request from Server1
2020/12/17 16:46:56 [Server0] Vote true for request from Server1
2020/12/17 16:46:56 [Server1] Received 2 votes, win an election
2020/12/17 16:46:56 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:56 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:56 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:56 [Server2] Reset it's timer to 657ms milliseconds after 2020-12-17 16:46:56.362683 -0800 PST m=+21.110817830
2020/12/17 16:46:56 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:56 [Server0] Reset it's timer to 680ms milliseconds after 2020-12-17 16:46:56.362733 -0800 PST m=+21.110867540
2020/12/17 16:46:56 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:56 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:56 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:56 [Server2] Reset it's timer to 744ms milliseconds after 2020-12-17 16:46:56.567955 -0800 PST m=+21.316088680
2020/12/17 16:46:56 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:56 [Server0] Reset it's timer to 508ms milliseconds after 2020-12-17 16:46:56.568051 -0800 PST m=+21.316184542
2020/12/17 16:46:56 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:56 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:56 [Server2] Received append entries with equal term form Server1
2020/12/17 16:46:56 [Server2] Reset it's timer to 607ms milliseconds after 2020-12-17 16:46:56.768369 -0800 PST m=+21.516501895
2020/12/17 16:46:56 [Server0] Received append entries with equal term form Server1
2020/12/17 16:46:56 [Server0] Reset it's timer to 747ms milliseconds after 2020-12-17 16:46:56.768424 -0800 PST m=+21.516557158
2020/12/17 16:46:56 [Progress] Line 58 passed
2020/12/17 16:46:56 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:56 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:57 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:57 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:57 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:57 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:46:57 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:57 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:57 [Server2] Start an election, it's currentTerm is 2
2020/12/17 16:46:57 [Server2] Send vote request to Server1
2020/12/17 16:46:57 [Server2] Send vote request to Server0
2020/12/17 16:46:57 [Server0] Received vote request from Server2
2020/12/17 16:46:57 [Server0] Vote true for request from Server2
2020/12/17 16:46:57 [Server2] Received 2 votes, win an election
2020/12/17 16:46:57 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:57 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:57 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:57 [Server0] Reset it's timer to 594ms milliseconds after 2020-12-17 16:46:57.3806 -0800 PST m=+22.128730341
2020/12/17 16:46:57 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:46:57 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:46:57 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:57 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:57 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:57 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:57 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:57 [Server0] Reset it's timer to 665ms milliseconds after 2020-12-17 16:46:57.581604 -0800 PST m=+22.329733261
2020/12/17 16:46:57 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:46:57 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:57 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:57 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:57 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:57 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:57 [Server0] Reset it's timer to 669ms milliseconds after 2020-12-17 16:46:57.784759 -0800 PST m=+22.532887485
2020/12/17 16:46:57 [Progress] Line 62 passed
2020/12/17 16:46:57 [Server1] Sent heartbeat to Server2
2020/12/17 16:46:57 [Server1] Sent heartbeat to Server0
2020/12/17 16:46:57 [Server0] Received append entries with lower term form Server1
2020/12/17 16:46:57 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:46:57 [Server1] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:46:57 [Server2] Received append entries with lower term form Server1
2020/12/17 16:46:57 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:57 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:57 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:57 [Server1] Reset it's timer to 675ms milliseconds after 2020-12-17 16:46:57.985342 -0800 PST m=+22.733470194
2020/12/17 16:46:57 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:57 [Server0] Reset it's timer to 652ms milliseconds after 2020-12-17 16:46:57.985422 -0800 PST m=+22.733550232
2020/12/17 16:46:58 [Server1] Stop sending heartbeat because it is no longer leader
2020/12/17 16:46:58 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:58 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:58 [Server1] Received append entries with equal term form Server2
2020/12/17 16:46:58 [Server1] Reset it's timer to 590ms milliseconds after 2020-12-17 16:46:58.18483 -0800 PST m=+22.932957258
2020/12/17 16:46:58 [Server0] Received append entries with equal term form Server2
2020/12/17 16:46:58 [Server0] Reset it's timer to 573ms milliseconds after 2020-12-17 16:46:58.18489 -0800 PST m=+22.933017580
2020/12/17 16:46:58 [Progress] Line 67 passed
2020/12/17 16:46:58 [Disconnect] Server2 and Server0 has disconnected
2020/12/17 16:46:58 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:58 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:58 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:58 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:58 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:46:58 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:46:58 [Server0] Start an election, it's currentTerm is 3
2020/12/17 16:46:58 [Server0] Send vote request to Server2
2020/12/17 16:46:58 [Server0] Send vote request to Server1
2020/12/17 16:46:58 [Server1] Start an election, it's currentTerm is 3
2020/12/17 16:46:58 [Server1] Send vote request to Server2
2020/12/17 16:46:58 [Server1] Send vote request to Server0
2020/12/17 16:46:58 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:58 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:58 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:46:58 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:58 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:59 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:46:59 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:46:59 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:59 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:59 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:59 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:59 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:46:59 [Server1] Start an election, it's currentTerm is 4
2020/12/17 16:46:59 [Server1] Send vote request to Server2
2020/12/17 16:46:59 [Server1] Send vote request to Server0
2020/12/17 16:46:59 [Server0] Start an election, it's currentTerm is 4
2020/12/17 16:46:59 [Server0] Send vote request to Server2
2020/12/17 16:46:59 [Server0] Send vote request to Server1
2020/12/17 16:46:59 [Server2] Sent heartbeat to Server0
2020/12/17 16:46:59 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:59 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:46:59 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:46:59 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:46:59 [Server2] Sent heartbeat to Server1
2020/12/17 16:46:59 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:00 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:00 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:00 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:00 [Server1] Start an election, it's currentTerm is 5
2020/12/17 16:47:00 [Server1] Send vote request to Server2
2020/12/17 16:47:00 [Server1] Send vote request to Server0
2020/12/17 16:47:00 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:00 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:00 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:00 [Server0] Start an election, it's currentTerm is 5
2020/12/17 16:47:00 [Server0] Send vote request to Server2
2020/12/17 16:47:00 [Server0] Send vote request to Server1
2020/12/17 16:47:00 [Check]Server0 is not connected
2020/12/17 16:47:00 [Check]Server1 is not leader
2020/12/17 16:47:00 [Check]Server2 is not connected
2020/12/17 16:47:00 [Progress] Line 75 passed
2020/12/17 16:47:00 [Reconnect]Server0 has reconnected
2020/12/17 16:47:00 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:00 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:00 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:00 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:00 [Server1] Start an election, it's currentTerm is 6
2020/12/17 16:47:00 [Server1] Send vote request to Server2
2020/12/17 16:47:00 [Server1] Send vote request to Server0
2020/12/17 16:47:00 [Server0] Received vote request from Server1
2020/12/17 16:47:00 [Server0] Vote true for request from Server1
2020/12/17 16:47:00 [Server1] Received 2 votes, win an election
2020/12/17 16:47:00 [Server1] End the election not in candidate state
2020/12/17 16:47:00 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:00 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:00 [Server1] End the election not in candidate state
2020/12/17 16:47:00 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:00 [Server0] Reset it's timer to 618ms milliseconds after 2020-12-17 16:47:00.709093 -0800 PST m=+25.457209536
2020/12/17 16:47:00 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:00 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:00 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:00 [Progress] Line 79 passed
2020/12/17 16:47:00 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:00 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:00 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:00 [Server2] Received append entries with higher term from 1, enter a new term and become follower
2020/12/17 16:47:00 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:00 [Server0] Reset it's timer to 571ms milliseconds after 2020-12-17 16:47:00.9105 -0800 PST m=+25.658616353
2020/12/17 16:47:00 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:00 [Server1] Received vote request from Server0
2020/12/17 16:47:00 [Server1] Vote false for request from Server0, because its term 6 is greater than that in request(term 3)
2020/12/17 16:47:00 [Server0] End the election not in candidate state
2020/12/17 16:47:00 [Server0] End the election not in candidate state
2020/12/17 16:47:00 [Server0] End the election not in candidate state
2020/12/17 16:47:00 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:01 [Server2] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:01 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:01 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:01 [Server0] Received vote request from Server1
2020/12/17 16:47:01 [Server0] Vote false for request from Server1, because its term 6 is greater than that in request(term 3)
2020/12/17 16:47:01 [Server1] End the election not in candidate state
2020/12/17 16:47:01 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:01 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:01 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:01 [Server2] Reset it's timer to 797ms milliseconds after 2020-12-17 16:47:01.112701 -0800 PST m=+25.860816118
2020/12/17 16:47:01 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:01 [Server0] Reset it's timer to 526ms milliseconds after 2020-12-17 16:47:01.112781 -0800 PST m=+25.860896683
2020/12/17 16:47:01 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:01 [Server2] Received vote request from Server1
2020/12/17 16:47:01 [Server2] Vote false for request from Server1, because its term 6 is greater than that in request(term 4)
2020/12/17 16:47:01 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:01 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:01 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:01 [Server0] Reset it's timer to 752ms milliseconds after 2020-12-17 16:47:01.313895 -0800 PST m=+26.062009366
2020/12/17 16:47:01 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:01 [Server2] Reset it's timer to 724ms milliseconds after 2020-12-17 16:47:01.31397 -0800 PST m=+26.062084866
2020/12/17 16:47:01 [Progress] Line 84 passed
  ... Passed --   5.5  3   88    6966    0
2020/12/17 16:47:01 [Server0] Make()
2020/12/17 16:47:01 [Server1] Make()
2020/12/17 16:47:01 [Server2] Make()
Test (2A): initial election ...
2020/12/17 16:47:01 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:01 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:01 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:01 [Server2] Start an election, it's currentTerm is 1
2020/12/17 16:47:01 [Server2] Send vote request to Server1
2020/12/17 16:47:01 [Server2] Send vote request to Server0
2020/12/17 16:47:01 [Server1] Received vote request from Server2
2020/12/17 16:47:01 [Server1] Vote true for request from Server2
2020/12/17 16:47:01 [Server0] Received vote request from Server2
2020/12/17 16:47:01 [Server0] Vote true for request from Server2
2020/12/17 16:47:01 [Server2] Received 2 votes, win an election
2020/12/17 16:47:01 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:01 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:01 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:01 [Server1] Reset it's timer to 790ms milliseconds after 2020-12-17 16:47:01.856972 -0800 PST m=+26.605084510
2020/12/17 16:47:01 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:01 [Server0] Reset it's timer to 729ms milliseconds after 2020-12-17 16:47:01.85706 -0800 PST m=+26.605172039
2020/12/17 16:47:01 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:01 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:02 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:02 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:02 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:02 [Server0] Reset it's timer to 512ms milliseconds after 2020-12-17 16:47:02.059267 -0800 PST m=+26.807378152
2020/12/17 16:47:02 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:02 [Server1] Reset it's timer to 691ms milliseconds after 2020-12-17 16:47:02.059377 -0800 PST m=+26.807488361
2020/12/17 16:47:02 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:02 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:02 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:02 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:02 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:02 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:02 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:02 [Server1] Reset it's timer to 532ms milliseconds after 2020-12-17 16:47:02.260925 -0800 PST m=+27.009035413
2020/12/17 16:47:02 [Server0] Reset it's timer to 514ms milliseconds after 2020-12-17 16:47:02.260956 -0800 PST m=+27.009066107
2020/12/17 16:47:02 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:02 [Sleep] Before sleep
2020/12/17 16:47:02 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:02 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:02 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:02 [Server0] Reset it's timer to 629ms milliseconds after 2020-12-17 16:47:02.463057 -0800 PST m=+27.211166466
2020/12/17 16:47:02 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:02 [Server1] Reset it's timer to 511ms milliseconds after 2020-12-17 16:47:02.463127 -0800 PST m=+27.211237158
2020/12/17 16:47:02 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:02 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:02 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:02 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:02 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:02 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:02 [Server1] Reset it's timer to 707ms milliseconds after 2020-12-17 16:47:02.663834 -0800 PST m=+27.411943148
2020/12/17 16:47:02 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:02 [Server0] Reset it's timer to 718ms milliseconds after 2020-12-17 16:47:02.663896 -0800 PST m=+27.412005210
2020/12/17 16:47:02 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:02 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:02 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:02 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:02 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:02 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:02 [Server0] Reset it's timer to 705ms milliseconds after 2020-12-17 16:47:02.863989 -0800 PST m=+27.612096773
2020/12/17 16:47:02 [Server1] Reset it's timer to 771ms milliseconds after 2020-12-17 16:47:02.863955 -0800 PST m=+27.612063356
2020/12/17 16:47:03 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:03 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:03 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:03 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:03 [Server1] Reset it's timer to 533ms milliseconds after 2020-12-17 16:47:03.065557 -0800 PST m=+27.813664416
2020/12/17 16:47:03 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:03 [Server0] Reset it's timer to 654ms milliseconds after 2020-12-17 16:47:03.065679 -0800 PST m=+27.813785942
2020/12/17 16:47:03 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:03 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:03 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:03 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:03 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:03 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:03 [Server1] Reset it's timer to 563ms milliseconds after 2020-12-17 16:47:03.265735 -0800 PST m=+28.013841588
2020/12/17 16:47:03 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:03 [Server0] Reset it's timer to 617ms milliseconds after 2020-12-17 16:47:03.265776 -0800 PST m=+28.013882361
2020/12/17 16:47:03 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:03 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:03 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:03 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:03 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:03 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:03 [Server0] Reset it's timer to 614ms milliseconds after 2020-12-17 16:47:03.469287 -0800 PST m=+28.217392191
2020/12/17 16:47:03 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:03 [Server1] Reset it's timer to 796ms milliseconds after 2020-12-17 16:47:03.469369 -0800 PST m=+28.217474670
2020/12/17 16:47:03 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:03 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:03 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:03 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:03 [Server1] Reset it's timer to 521ms milliseconds after 2020-12-17 16:47:03.66985 -0800 PST m=+28.417954361
2020/12/17 16:47:03 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:03 [Server0] Reset it's timer to 506ms milliseconds after 2020-12-17 16:47:03.670008 -0800 PST m=+28.418112358
2020/12/17 16:47:03 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:03 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:03 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:03 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:03 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:03 [Server1] Reset it's timer to 604ms milliseconds after 2020-12-17 16:47:03.869736 -0800 PST m=+28.617839386
2020/12/17 16:47:03 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:03 [Server0] Reset it's timer to 634ms milliseconds after 2020-12-17 16:47:03.86978 -0800 PST m=+28.617883594
2020/12/17 16:47:03 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:03 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:04 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:04 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:04 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:04 [Server1] Reset it's timer to 524ms milliseconds after 2020-12-17 16:47:04.070881 -0800 PST m=+28.818984163
2020/12/17 16:47:04 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:04 [Server0] Reset it's timer to 603ms milliseconds after 2020-12-17 16:47:04.070961 -0800 PST m=+28.819064178
2020/12/17 16:47:04 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:04 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:04 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:04 [Server1] Reset it's timer to 723ms milliseconds after 2020-12-17 16:47:04.271124 -0800 PST m=+29.019226138
2020/12/17 16:47:04 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:04 [Server0] Reset it's timer to 602ms milliseconds after 2020-12-17 16:47:04.271199 -0800 PST m=+29.019300879
2020/12/17 16:47:04 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:04 [Sleep] After sleep
2020/12/17 16:47:04 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:04 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:04 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:04 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:04 [Server0] Reset it's timer to 577ms milliseconds after 2020-12-17 16:47:04.475499 -0800 PST m=+29.223600094
2020/12/17 16:47:04 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:04 [Server1] Reset it's timer to 611ms milliseconds after 2020-12-17 16:47:04.475561 -0800 PST m=+29.223662777
2020/12/17 16:47:04 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:04 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:04 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:04 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:04 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:04 [Server1] Reset it's timer to 606ms milliseconds after 2020-12-17 16:47:04.675492 -0800 PST m=+29.423592895
2020/12/17 16:47:04 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:04 [Server0] Reset it's timer to 742ms milliseconds after 2020-12-17 16:47:04.675531 -0800 PST m=+29.423631136
2020/12/17 16:47:04 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:04 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:04 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:04 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:04 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:04 [Server0] Reset it's timer to 660ms milliseconds after 2020-12-17 16:47:04.876079 -0800 PST m=+29.624178868
2020/12/17 16:47:04 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:04 [Server1] Reset it's timer to 765ms milliseconds after 2020-12-17 16:47:04.87617 -0800 PST m=+29.624269961
  ... Passed --   3.6  3   34    3774    0
2020/12/17 16:47:04 [Server0] Make()
2020/12/17 16:47:04 [Server1] Make()
2020/12/17 16:47:04 [Server2] Make()
Test (2A): election after network failure ...
2020/12/17 16:47:04 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:05 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:05 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:05 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:05 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:05 [Server2] Start an election, it's currentTerm is 1
2020/12/17 16:47:05 [Server2] Send vote request to Server1
2020/12/17 16:47:05 [Server2] Send vote request to Server0
2020/12/17 16:47:05 [Server1] Received vote request from Server2
2020/12/17 16:47:05 [Server1] Vote true for request from Server2
2020/12/17 16:47:05 [Server0] Received vote request from Server2
2020/12/17 16:47:05 [Server0] Vote true for request from Server2
2020/12/17 16:47:05 [Server2] Received 2 votes, win an election
2020/12/17 16:47:05 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:05 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:05 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:05 [Server1] Reset it's timer to 799ms milliseconds after 2020-12-17 16:47:05.511685 -0800 PST m=+30.259782353
2020/12/17 16:47:05 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:05 [Server0] Reset it's timer to 796ms milliseconds after 2020-12-17 16:47:05.511842 -0800 PST m=+30.259938944
2020/12/17 16:47:05 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:05 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:05 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:05 [Server0] Reset it's timer to 670ms milliseconds after 2020-12-17 16:47:05.71608 -0800 PST m=+30.464175926
2020/12/17 16:47:05 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:05 [Server1] Reset it's timer to 573ms milliseconds after 2020-12-17 16:47:05.716136 -0800 PST m=+30.464232043
2020/12/17 16:47:05 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:05 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:05 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:05 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:05 [Server1] Reset it's timer to 752ms milliseconds after 2020-12-17 16:47:05.916363 -0800 PST m=+30.664458315
2020/12/17 16:47:05 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:05 [Server0] Reset it's timer to 673ms milliseconds after 2020-12-17 16:47:05.916418 -0800 PST m=+30.664512969
2020/12/17 16:47:06 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:06 [Progress] Line 58 passed
2020/12/17 16:47:06 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:06 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:06 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:06 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:06 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:06 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:06 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:06 [Server0] Start an election, it's currentTerm is 2
2020/12/17 16:47:06 [Server0] Send vote request to Server2
2020/12/17 16:47:06 [Server0] Send vote request to Server1
2020/12/17 16:47:06 [Server1] Received vote request from Server0
2020/12/17 16:47:06 [Server1] Vote true for request from Server0
2020/12/17 16:47:06 [Server0] Received 2 votes, win an election
2020/12/17 16:47:06 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:06 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:06 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:06 [Server1] Reset it's timer to 673ms milliseconds after 2020-12-17 16:47:06.593157 -0800 PST m=+31.341250046
2020/12/17 16:47:06 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:06 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:06 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:06 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:06 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:06 [Server1] Reset it's timer to 557ms milliseconds after 2020-12-17 16:47:06.796287 -0800 PST m=+31.544378824
2020/12/17 16:47:06 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:06 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:06 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:06 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:06 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:06 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:06 [Server1] Reset it's timer to 688ms milliseconds after 2020-12-17 16:47:06.996616 -0800 PST m=+31.744707170
2020/12/17 16:47:07 [Progress] Line 62 passed
2020/12/17 16:47:07 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:07 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:07 [Server1] Received append entries with lower term form Server2
2020/12/17 16:47:07 [Server0] Received append entries with lower term form Server2
2020/12/17 16:47:07 [Server2] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:47:07 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:07 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:07 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:07 [Server2] Reset it's timer to 661ms milliseconds after 2020-12-17 16:47:07.197445 -0800 PST m=+31.945534902
2020/12/17 16:47:07 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:07 [Server1] Reset it's timer to 598ms milliseconds after 2020-12-17 16:47:07.197536 -0800 PST m=+31.945626479
2020/12/17 16:47:07 [Server2] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:07 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:07 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:07 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:07 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:07 [Server1] Reset it's timer to 534ms milliseconds after 2020-12-17 16:47:07.398693 -0800 PST m=+32.146782518
2020/12/17 16:47:07 [Server2] Reset it's timer to 579ms milliseconds after 2020-12-17 16:47:07.398647 -0800 PST m=+32.146736631
2020/12/17 16:47:07 [Progress] Line 67 passed
2020/12/17 16:47:07 [Disconnect] Server0 and Server1 has disconnected
2020/12/17 16:47:07 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:07 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:07 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:07 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:07 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:07 [Server1] Start an election, it's currentTerm is 3
2020/12/17 16:47:07 [Server1] Send vote request to Server2
2020/12/17 16:47:07 [Server1] Send vote request to Server0
2020/12/17 16:47:07 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:07 [Server2] Start an election, it's currentTerm is 3
2020/12/17 16:47:07 [Server2] Send vote request to Server1
2020/12/17 16:47:07 [Server2] Send vote request to Server0
2020/12/17 16:47:08 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:08 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:08 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:08 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:08 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:08 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:08 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:08 [Server2] Start an election, it's currentTerm is 4
2020/12/17 16:47:08 [Server2] Send vote request to Server1
2020/12/17 16:47:08 [Server2] Send vote request to Server0
2020/12/17 16:47:08 [Server1] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:08 [Server1] Start an election, it's currentTerm is 4
2020/12/17 16:47:08 [Server1] Send vote request to Server2
2020/12/17 16:47:08 [Server1] Send vote request to Server0
2020/12/17 16:47:08 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:08 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:08 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:08 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:08 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:08 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:08 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:09 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:09 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:09 [Server1] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:09 [Server1] Start an election, it's currentTerm is 5
2020/12/17 16:47:09 [Server1] Send vote request to Server2
2020/12/17 16:47:09 [Server1] Send vote request to Server0
2020/12/17 16:47:09 [Server2] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:09 [Server2] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:09 [Server2] Start an election, it's currentTerm is 5
2020/12/17 16:47:09 [Server2] Send vote request to Server1
2020/12/17 16:47:09 [Server2] Send vote request to Server0
2020/12/17 16:47:09 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:09 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:09 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:09 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:09 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:09 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:09 [Check]Server0 is not connected
2020/12/17 16:47:09 [Check]Server1 is not connected
2020/12/17 16:47:09 [Check]Server2 is not leader
2020/12/17 16:47:09 [Progress] Line 75 passed
2020/12/17 16:47:09 [Reconnect]Server1 has reconnected
2020/12/17 16:47:09 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:09 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:09 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:09 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:09 [Server2] Start an election, it's currentTerm is 6
2020/12/17 16:47:09 [Server2] Send vote request to Server1
2020/12/17 16:47:09 [Server2] Send vote request to Server0
2020/12/17 16:47:09 [Server1] Received vote request from Server2
2020/12/17 16:47:09 [Server1] Vote true for request from Server2
2020/12/17 16:47:09 [Server2] Received 2 votes, win an election
2020/12/17 16:47:09 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:09 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:09 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:09 [Server1] Reset it's timer to 672ms milliseconds after 2020-12-17 16:47:09.68403 -0800 PST m=+34.432109547
2020/12/17 16:47:09 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:09 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:09 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:09 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:09 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:09 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:09 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:09 [Server1] Reset it's timer to 715ms milliseconds after 2020-12-17 16:47:09.884847 -0800 PST m=+34.632925683
2020/12/17 16:47:09 [Progress] Line 79 passed
2020/12/17 16:47:10 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:10 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:10 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:10 [Server2] Received append entries with lower term form Server0
2020/12/17 16:47:10 [Server1] Received append entries with lower term form Server0
2020/12/17 16:47:10 [Server0] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:47:10 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:10 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:10 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:10 [Server1] Reset it's timer to 751ms milliseconds after 2020-12-17 16:47:10.085182 -0800 PST m=+34.833260297
2020/12/17 16:47:10 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:10 [Server0] Reset it's timer to 615ms milliseconds after 2020-12-17 16:47:10.085288 -0800 PST m=+34.833366070
2020/12/17 16:47:10 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:10 [Server1] Received vote request from Server2
2020/12/17 16:47:10 [Server1] Vote false for request from Server2, because its term 6 is greater than that in request(term 3)
2020/12/17 16:47:10 [Server2] End the election not in candidate state
2020/12/17 16:47:10 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:10 [Server0] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:10 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:10 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:10 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:10 [Server1] Reset it's timer to 596ms milliseconds after 2020-12-17 16:47:10.287228 -0800 PST m=+35.035305282
2020/12/17 16:47:10 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:10 [Server0] Reset it's timer to 717ms milliseconds after 2020-12-17 16:47:10.287399 -0800 PST m=+35.035476813
2020/12/17 16:47:10 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:10 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:10 [Server0] Received vote request from Server2
2020/12/17 16:47:10 [Server0] Vote false for request from Server2, because its term 6 is greater than that in request(term 4)
2020/12/17 16:47:10 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:10 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:10 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:10 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:10 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:10 [Server1] Reset it's timer to 643ms milliseconds after 2020-12-17 16:47:10.486985 -0800 PST m=+35.235061859
2020/12/17 16:47:10 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:10 [Server0] Reset it's timer to 706ms milliseconds after 2020-12-17 16:47:10.487012 -0800 PST m=+35.235088548
2020/12/17 16:47:10 [Progress] Line 84 passed
  ... Passed --   5.5  3   87    6921    0
2020/12/17 16:47:10 [Server0] Make()
2020/12/17 16:47:10 [Server1] Make()
2020/12/17 16:47:10 [Server2] Make()
Test (2A): initial election ...
2020/12/17 16:47:10 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:10 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:10 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:10 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:10 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:11 [Server0] Start an election, it's currentTerm is 1
2020/12/17 16:47:11 [Server0] Send vote request to Server2
2020/12/17 16:47:11 [Server0] Send vote request to Server1
2020/12/17 16:47:11 [Server1] Received vote request from Server0
2020/12/17 16:47:11 [Server1] Vote true for request from Server0
2020/12/17 16:47:11 [Server2] Received vote request from Server0
2020/12/17 16:47:11 [Server2] Vote true for request from Server0
2020/12/17 16:47:11 [Server0] Received 2 votes, win an election
2020/12/17 16:47:11 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:11 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:11 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:11 [Server2] Reset it's timer to 726ms milliseconds after 2020-12-17 16:47:11.106569 -0800 PST m=+35.854643226
2020/12/17 16:47:11 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:11 [Server1] Reset it's timer to 690ms milliseconds after 2020-12-17 16:47:11.106659 -0800 PST m=+35.854732959
2020/12/17 16:47:11 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:11 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:11 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:11 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:11 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:11 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:11 [Server2] Reset it's timer to 799ms milliseconds after 2020-12-17 16:47:11.307841 -0800 PST m=+36.055914679
2020/12/17 16:47:11 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:11 [Server1] Reset it's timer to 623ms milliseconds after 2020-12-17 16:47:11.307894 -0800 PST m=+36.055967092
2020/12/17 16:47:11 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:11 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:11 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:11 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:11 [Server2] Reset it's timer to 607ms milliseconds after 2020-12-17 16:47:11.508788 -0800 PST m=+36.256860451
2020/12/17 16:47:11 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:11 [Server1] Reset it's timer to 510ms milliseconds after 2020-12-17 16:47:11.508879 -0800 PST m=+36.256951414
2020/12/17 16:47:11 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:11 [Sleep] Before sleep
2020/12/17 16:47:11 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:11 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:11 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:11 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:11 [Server2] Reset it's timer to 646ms milliseconds after 2020-12-17 16:47:11.70958 -0800 PST m=+36.457651909
2020/12/17 16:47:11 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:11 [Server1] Reset it's timer to 776ms milliseconds after 2020-12-17 16:47:11.709639 -0800 PST m=+36.457710532
2020/12/17 16:47:11 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:11 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:11 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:11 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:11 [Server2] Reset it's timer to 695ms milliseconds after 2020-12-17 16:47:11.910071 -0800 PST m=+36.658141816
2020/12/17 16:47:11 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:11 [Server1] Reset it's timer to 675ms milliseconds after 2020-12-17 16:47:11.910168 -0800 PST m=+36.658238476
2020/12/17 16:47:12 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:12 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:12 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:12 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:12 [Server1] Reset it's timer to 758ms milliseconds after 2020-12-17 16:47:12.111357 -0800 PST m=+36.859427204
2020/12/17 16:47:12 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:12 [Server2] Reset it's timer to 726ms milliseconds after 2020-12-17 16:47:12.111425 -0800 PST m=+36.859495224
2020/12/17 16:47:12 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:12 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:12 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:12 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:12 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:12 [Server1] Reset it's timer to 560ms milliseconds after 2020-12-17 16:47:12.315612 -0800 PST m=+37.063680983
2020/12/17 16:47:12 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:12 [Server2] Reset it's timer to 582ms milliseconds after 2020-12-17 16:47:12.315722 -0800 PST m=+37.063791130
2020/12/17 16:47:12 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:12 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:12 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:12 [Server2] Reset it's timer to 761ms milliseconds after 2020-12-17 16:47:12.51589 -0800 PST m=+37.263958515
2020/12/17 16:47:12 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:12 [Server1] Reset it's timer to 545ms milliseconds after 2020-12-17 16:47:12.51595 -0800 PST m=+37.264018570
2020/12/17 16:47:12 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:12 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:12 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:12 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:12 [Server2] Reset it's timer to 653ms milliseconds after 2020-12-17 16:47:12.716127 -0800 PST m=+37.464194374
2020/12/17 16:47:12 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:12 [Server1] Reset it's timer to 730ms milliseconds after 2020-12-17 16:47:12.716202 -0800 PST m=+37.464269769
2020/12/17 16:47:12 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:12 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:12 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:12 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:12 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:12 [Server1] Reset it's timer to 605ms milliseconds after 2020-12-17 16:47:12.917581 -0800 PST m=+37.665647171
2020/12/17 16:47:12 [Server2] Reset it's timer to 799ms milliseconds after 2020-12-17 16:47:12.917528 -0800 PST m=+37.665594717
2020/12/17 16:47:12 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:13 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:13 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:13 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:13 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:13 [Server1] Reset it's timer to 571ms milliseconds after 2020-12-17 16:47:13.119732 -0800 PST m=+37.867798167
2020/12/17 16:47:13 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:13 [Server2] Reset it's timer to 558ms milliseconds after 2020-12-17 16:47:13.119834 -0800 PST m=+37.867899394
2020/12/17 16:47:13 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:13 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:13 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:13 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:13 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:13 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:13 [Server2] Reset it's timer to 728ms milliseconds after 2020-12-17 16:47:13.322824 -0800 PST m=+38.070889284
2020/12/17 16:47:13 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:13 [Server1] Reset it's timer to 597ms milliseconds after 2020-12-17 16:47:13.322887 -0800 PST m=+38.070952279
2020/12/17 16:47:13 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:13 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:13 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:13 [Server2] Reset it's timer to 678ms milliseconds after 2020-12-17 16:47:13.52602 -0800 PST m=+38.274083672
2020/12/17 16:47:13 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:13 [Server1] Reset it's timer to 544ms milliseconds after 2020-12-17 16:47:13.526099 -0800 PST m=+38.274163342
2020/12/17 16:47:13 [Sleep] After sleep
2020/12/17 16:47:13 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:13 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:13 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:13 [Server2] Reset it's timer to 703ms milliseconds after 2020-12-17 16:47:13.726684 -0800 PST m=+38.474746921
2020/12/17 16:47:13 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:13 [Server1] Reset it's timer to 781ms milliseconds after 2020-12-17 16:47:13.726765 -0800 PST m=+38.474827974
2020/12/17 16:47:13 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:13 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:13 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:13 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:13 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:13 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:13 [Server2] Reset it's timer to 707ms milliseconds after 2020-12-17 16:47:13.928355 -0800 PST m=+38.676417848
2020/12/17 16:47:13 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:13 [Server1] Reset it's timer to 522ms milliseconds after 2020-12-17 16:47:13.928434 -0800 PST m=+38.676496657
2020/12/17 16:47:13 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:14 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:14 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:14 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:14 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:14 [Server2] Reset it's timer to 588ms milliseconds after 2020-12-17 16:47:14.12877 -0800 PST m=+38.876831549
2020/12/17 16:47:14 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:14 [Server1] Reset it's timer to 712ms milliseconds after 2020-12-17 16:47:14.128866 -0800 PST m=+38.876927893
  ... Passed --   3.6  3   34    3706    0
2020/12/17 16:47:14 [Server0] Make()
2020/12/17 16:47:14 [Server1] Make()
2020/12/17 16:47:14 [Server2] Make()
Test (2A): election after network failure ...
2020/12/17 16:47:14 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:14 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:14 [Server0] Start an election, it's currentTerm is 1
2020/12/17 16:47:14 [Server0] Send vote request to Server2
2020/12/17 16:47:14 [Server0] Send vote request to Server1
2020/12/17 16:47:14 [Server2] Received vote request from Server0
2020/12/17 16:47:14 [Server2] Vote true for request from Server0
2020/12/17 16:47:14 [Server1] Received vote request from Server0
2020/12/17 16:47:14 [Server1] Vote true for request from Server0
2020/12/17 16:47:14 [Server0] Received 2 votes, win an election
2020/12/17 16:47:14 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:14 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:14 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:14 [Server2] Reset it's timer to 544ms milliseconds after 2020-12-17 16:47:14.654604 -0800 PST m=+39.402663847
2020/12/17 16:47:14 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:14 [Server1] Reset it's timer to 704ms milliseconds after 2020-12-17 16:47:14.654769 -0800 PST m=+39.402828699
2020/12/17 16:47:14 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:14 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:14 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:14 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:14 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:14 [Server1] Reset it's timer to 572ms milliseconds after 2020-12-17 16:47:14.857407 -0800 PST m=+39.605465459
2020/12/17 16:47:14 [Server2] Reset it's timer to 590ms milliseconds after 2020-12-17 16:47:14.85736 -0800 PST m=+39.605419024
2020/12/17 16:47:15 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:15 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:15 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:15 [Server2] Reset it's timer to 760ms milliseconds after 2020-12-17 16:47:15.057465 -0800 PST m=+39.805523064
2020/12/17 16:47:15 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:15 [Server1] Reset it's timer to 731ms milliseconds after 2020-12-17 16:47:15.057557 -0800 PST m=+39.805614671
2020/12/17 16:47:15 [Progress] Line 58 passed
2020/12/17 16:47:15 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:15 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:15 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:15 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:15 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:15 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:15 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:15 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:15 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:15 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:15 [Server1] Start an election, it's currentTerm is 2
2020/12/17 16:47:15 [Server1] Send vote request to Server2
2020/12/17 16:47:15 [Server1] Send vote request to Server0
2020/12/17 16:47:15 [Server2] Received vote request from Server1
2020/12/17 16:47:15 [Server2] Vote true for request from Server1
2020/12/17 16:47:15 [Server1] Received 2 votes, win an election
2020/12/17 16:47:15 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:15 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:15 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:15 [Server2] Reset it's timer to 593ms milliseconds after 2020-12-17 16:47:15.795666 -0800 PST m=+40.543720552
2020/12/17 16:47:15 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:15 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:15 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:15 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:15 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:15 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:15 [Server2] Reset it's timer to 781ms milliseconds after 2020-12-17 16:47:15.995858 -0800 PST m=+40.743911979
2020/12/17 16:47:16 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:16 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:16 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:16 [Progress] Line 62 passed
2020/12/17 16:47:16 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:16 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:16 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:16 [Server2] Reset it's timer to 736ms milliseconds after 2020-12-17 16:47:16.200993 -0800 PST m=+40.949046338
2020/12/17 16:47:16 [Server0] Received append entries with higher term from 1, enter a new term and become follower
2020/12/17 16:47:16 [Server0] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:16 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:16 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:16 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:16 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:16 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:16 [Server2] Reset it's timer to 623ms milliseconds after 2020-12-17 16:47:16.401273 -0800 PST m=+41.149325537
2020/12/17 16:47:16 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:16 [Server0] Reset it's timer to 736ms milliseconds after 2020-12-17 16:47:16.401329 -0800 PST m=+41.149381684
2020/12/17 16:47:16 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:16 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:16 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:16 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:16 [Server2] Reset it's timer to 732ms milliseconds after 2020-12-17 16:47:16.603571 -0800 PST m=+41.351622943
2020/12/17 16:47:16 [Server0] Reset it's timer to 694ms milliseconds after 2020-12-17 16:47:16.603601 -0800 PST m=+41.351652524
2020/12/17 16:47:16 [Progress] Line 67 passed
2020/12/17 16:47:16 [Disconnect] Server1 and Server2 has disconnected
2020/12/17 16:47:16 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:16 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:16 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:17 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:17 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:17 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:17 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:17 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:17 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:17 [Server0] Start an election, it's currentTerm is 3
2020/12/17 16:47:17 [Server0] Send vote request to Server2
2020/12/17 16:47:17 [Server0] Send vote request to Server1
2020/12/17 16:47:17 [Server2] Start an election, it's currentTerm is 3
2020/12/17 16:47:17 [Server2] Send vote request to Server1
2020/12/17 16:47:17 [Server2] Send vote request to Server0
2020/12/17 16:47:17 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:17 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:17 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:17 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:17 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:17 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:17 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:17 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:17 [Server0] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:17 [Server0] Start an election, it's currentTerm is 4
2020/12/17 16:47:17 [Server0] Send vote request to Server2
2020/12/17 16:47:17 [Server0] Send vote request to Server1
2020/12/17 16:47:18 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:18 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:18 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:18 [Server2] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:18 [Server2] Start an election, it's currentTerm is 4
2020/12/17 16:47:18 [Server2] Send vote request to Server1
2020/12/17 16:47:18 [Server2] Send vote request to Server0
2020/12/17 16:47:18 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:18 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:18 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:18 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:18 [Server0] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:18 [Server0] Start an election, it's currentTerm is 5
2020/12/17 16:47:18 [Server0] Send vote request to Server2
2020/12/17 16:47:18 [Server0] Send vote request to Server1
2020/12/17 16:47:18 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:18 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:18 [Check]Server0 is not leader
2020/12/17 16:47:18 [Check]Server1 is not connected
2020/12/17 16:47:18 [Check]Server2 is not connected
2020/12/17 16:47:18 [Progress] Line 75 passed
2020/12/17 16:47:18 [Reconnect]Server2 has reconnected
2020/12/17 16:47:18 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:18 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:18 [Server2] Start an election, it's currentTerm is 5
2020/12/17 16:47:18 [Server2] Send vote request to Server1
2020/12/17 16:47:18 [Server2] Send vote request to Server0
2020/12/17 16:47:18 [Server0] Received vote request from Server2
2020/12/17 16:47:18 [Server0] Vote false for request from Server2, because it has already voted for another server in this term
2020/12/17 16:47:19 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:19 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:19 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:19 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:19 [Server0] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:19 [Server0] Start an election, it's currentTerm is 6
2020/12/17 16:47:19 [Server0] Send vote request to Server2
2020/12/17 16:47:19 [Server0] Send vote request to Server1
2020/12/17 16:47:19 [Server2] Received vote request from Server0
2020/12/17 16:47:19 [Server2] Vote true for request from Server0
2020/12/17 16:47:19 [Server0] Received 2 votes, win an election
2020/12/17 16:47:19 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:19 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:19 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:19 [Server2] Reset it's timer to 736ms milliseconds after 2020-12-17 16:47:19.065412 -0800 PST m=+43.813452867
2020/12/17 16:47:19 [Progress] Line 79 passed
2020/12/17 16:47:19 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:19 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:19 [Server2] Received append entries with lower term form Server1
2020/12/17 16:47:19 [Server0] Received append entries with lower term form Server1
2020/12/17 16:47:19 [Server1] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:47:19 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:19 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:19 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:19 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:19 [Server1] Reset it's timer to 511ms milliseconds after 2020-12-17 16:47:19.267983 -0800 PST m=+44.016023273
2020/12/17 16:47:19 [Server2] Reset it's timer to 508ms milliseconds after 2020-12-17 16:47:19.267929 -0800 PST m=+44.015969669
2020/12/17 16:47:19 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:19 [Server1] Received vote request from Server0
2020/12/17 16:47:19 [Server1] Vote false for request from Server0, because its term 6 is greater than that in request(term 3)
2020/12/17 16:47:19 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:19 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:19 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:19 [Server1] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:19 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:19 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:19 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:19 [Server1] Reset it's timer to 555ms milliseconds after 2020-12-17 16:47:19.468701 -0800 PST m=+44.216740345
2020/12/17 16:47:19 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:19 [Server2] Reset it's timer to 637ms milliseconds after 2020-12-17 16:47:19.468753 -0800 PST m=+44.216792942
2020/12/17 16:47:19 [Progress] Line 84 passed
  ... Passed --   5.4  3   78    6178    0
2020/12/17 16:47:19 [Server0] Make()
2020/12/17 16:47:19 [Server1] Make()
2020/12/17 16:47:19 [Server2] Make()
Test (2A): initial election ...
2020/12/17 16:47:19 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:19 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:19 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:19 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:19 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:19 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:19 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:20 [Server1] Start an election, it's currentTerm is 1
2020/12/17 16:47:20 [Server1] Send vote request to Server2
2020/12/17 16:47:20 [Server1] Send vote request to Server0
2020/12/17 16:47:20 [Server0] Received vote request from Server1
2020/12/17 16:47:20 [Server2] Received vote request from Server1
2020/12/17 16:47:20 [Server2] Vote true for request from Server1
2020/12/17 16:47:20 [Server0] Vote true for request from Server1
2020/12/17 16:47:20 [Server1] Received 2 votes, win an election
2020/12/17 16:47:20 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:20 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:20 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:20 [Server2] Reset it's timer to 634ms milliseconds after 2020-12-17 16:47:20.0806 -0800 PST m=+44.828637209
2020/12/17 16:47:20 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:20 [Server0] Reset it's timer to 529ms milliseconds after 2020-12-17 16:47:20.080725 -0800 PST m=+44.828762620
2020/12/17 16:47:20 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:20 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:20 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:20 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:20 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:20 [Server0] Reset it's timer to 779ms milliseconds after 2020-12-17 16:47:20.280969 -0800 PST m=+45.029005803
2020/12/17 16:47:20 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:20 [Server2] Reset it's timer to 759ms milliseconds after 2020-12-17 16:47:20.281113 -0800 PST m=+45.029148965
2020/12/17 16:47:20 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:20 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:20 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:20 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:20 [Server2] Reset it's timer to 609ms milliseconds after 2020-12-17 16:47:20.484408 -0800 PST m=+45.232443550
2020/12/17 16:47:20 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:20 [Server0] Reset it's timer to 602ms milliseconds after 2020-12-17 16:47:20.484524 -0800 PST m=+45.232559975
2020/12/17 16:47:20 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:20 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:20 [Sleep] Before sleep
2020/12/17 16:47:20 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:20 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:20 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:20 [Server2] Reset it's timer to 711ms milliseconds after 2020-12-17 16:47:20.68467 -0800 PST m=+45.432704972
2020/12/17 16:47:20 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:20 [Server0] Reset it's timer to 645ms milliseconds after 2020-12-17 16:47:20.684791 -0800 PST m=+45.432826077
2020/12/17 16:47:20 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:20 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:20 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:20 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:20 [Server2] Reset it's timer to 593ms milliseconds after 2020-12-17 16:47:20.887181 -0800 PST m=+45.635215225
2020/12/17 16:47:20 [Server0] Reset it's timer to 569ms milliseconds after 2020-12-17 16:47:20.88712 -0800 PST m=+45.635154198
2020/12/17 16:47:21 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:21 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:21 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:21 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:21 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:21 [Server2] Reset it's timer to 544ms milliseconds after 2020-12-17 16:47:21.087302 -0800 PST m=+45.835334852
2020/12/17 16:47:21 [Server0] Reset it's timer to 689ms milliseconds after 2020-12-17 16:47:21.08733 -0800 PST m=+45.835362550
2020/12/17 16:47:21 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:21 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:21 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:21 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:21 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:21 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:21 [Server2] Reset it's timer to 741ms milliseconds after 2020-12-17 16:47:21.289727 -0800 PST m=+46.037758807
2020/12/17 16:47:21 [Server0] Reset it's timer to 580ms milliseconds after 2020-12-17 16:47:21.289755 -0800 PST m=+46.037787360
2020/12/17 16:47:21 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:21 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:21 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:21 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:21 [Server0] Reset it's timer to 559ms milliseconds after 2020-12-17 16:47:21.490228 -0800 PST m=+46.238258892
2020/12/17 16:47:21 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:21 [Server2] Reset it's timer to 589ms milliseconds after 2020-12-17 16:47:21.490332 -0800 PST m=+46.238363533
2020/12/17 16:47:21 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:21 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:21 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:21 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:21 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:21 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:21 [Server2] Reset it's timer to 778ms milliseconds after 2020-12-17 16:47:21.693776 -0800 PST m=+46.441806443
2020/12/17 16:47:21 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:21 [Server0] Reset it's timer to 772ms milliseconds after 2020-12-17 16:47:21.693835 -0800 PST m=+46.441865790
2020/12/17 16:47:21 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:21 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:21 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:21 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:21 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:21 [Server0] Reset it's timer to 677ms milliseconds after 2020-12-17 16:47:21.894336 -0800 PST m=+46.642365607
2020/12/17 16:47:21 [Server2] Reset it's timer to 722ms milliseconds after 2020-12-17 16:47:21.894275 -0800 PST m=+46.642304620
2020/12/17 16:47:22 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:22 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:22 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:22 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:22 [Server2] Reset it's timer to 621ms milliseconds after 2020-12-17 16:47:22.094488 -0800 PST m=+46.842516752
2020/12/17 16:47:22 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:22 [Server0] Reset it's timer to 733ms milliseconds after 2020-12-17 16:47:22.094721 -0800 PST m=+46.842750158
2020/12/17 16:47:22 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:22 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:22 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:22 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:22 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:22 [Server2] Reset it's timer to 554ms milliseconds after 2020-12-17 16:47:22.294687 -0800 PST m=+47.042714723
2020/12/17 16:47:22 [Server0] Reset it's timer to 786ms milliseconds after 2020-12-17 16:47:22.294714 -0800 PST m=+47.042741850
2020/12/17 16:47:22 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:22 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:22 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:22 [Server2] Reset it's timer to 506ms milliseconds after 2020-12-17 16:47:22.497636 -0800 PST m=+47.245663360
2020/12/17 16:47:22 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:22 [Server0] Reset it's timer to 721ms milliseconds after 2020-12-17 16:47:22.497741 -0800 PST m=+47.245768690
2020/12/17 16:47:22 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:22 [Sleep] After sleep
2020/12/17 16:47:22 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:22 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:22 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:22 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:22 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:22 [Server2] Reset it's timer to 616ms milliseconds after 2020-12-17 16:47:22.697312 -0800 PST m=+47.445338609
2020/12/17 16:47:22 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:22 [Server0] Reset it's timer to 514ms milliseconds after 2020-12-17 16:47:22.697398 -0800 PST m=+47.445424276
2020/12/17 16:47:22 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:22 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:22 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:22 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:22 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:22 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:22 [Server2] Reset it's timer to 624ms milliseconds after 2020-12-17 16:47:22.898845 -0800 PST m=+47.646870423
2020/12/17 16:47:22 [Server0] Reset it's timer to 507ms milliseconds after 2020-12-17 16:47:22.898812 -0800 PST m=+47.646837360
2020/12/17 16:47:22 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:23 [Server1] Error when sending heartbeat to Server0
  ... Passed --   3.5  3   32    3554    0
2020/12/17 16:47:23 [Server0] Make()
2020/12/17 16:47:23 [Server1] Make()
2020/12/17 16:47:23 [Server2] Make()
Test (2A): election after network failure ...
2020/12/17 16:47:23 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:23 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:23 [Server1] Start an election, it's currentTerm is 1
2020/12/17 16:47:23 [Server1] Send vote request to Server2
2020/12/17 16:47:23 [Server1] Send vote request to Server0
2020/12/17 16:47:23 [Server2] Received vote request from Server1
2020/12/17 16:47:23 [Server2] Vote true for request from Server1
2020/12/17 16:47:23 [Server0] Received vote request from Server1
2020/12/17 16:47:23 [Server0] Vote true for request from Server1
2020/12/17 16:47:23 [Server1] Received 2 votes, win an election
2020/12/17 16:47:23 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:23 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:23 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:23 [Server2] Reset it's timer to 740ms milliseconds after 2020-12-17 16:47:23.614361 -0800 PST m=+48.362383743
2020/12/17 16:47:23 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:23 [Server0] Reset it's timer to 551ms milliseconds after 2020-12-17 16:47:23.614442 -0800 PST m=+48.362464412
2020/12/17 16:47:23 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:23 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:23 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:23 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:23 [Server2] Reset it's timer to 764ms milliseconds after 2020-12-17 16:47:23.815549 -0800 PST m=+48.563570577
2020/12/17 16:47:23 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:23 [Server0] Reset it's timer to 788ms milliseconds after 2020-12-17 16:47:23.815665 -0800 PST m=+48.563686465
2020/12/17 16:47:24 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:24 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:24 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:24 [Server0] Reset it's timer to 701ms milliseconds after 2020-12-17 16:47:24.015842 -0800 PST m=+48.763862590
2020/12/17 16:47:24 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:24 [Server2] Reset it's timer to 586ms milliseconds after 2020-12-17 16:47:24.015915 -0800 PST m=+48.763936046
2020/12/17 16:47:24 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:24 [Progress] Line 58 passed
2020/12/17 16:47:24 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:24 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:24 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:24 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:24 [Server2] Start an election, it's currentTerm is 2
2020/12/17 16:47:24 [Server2] Send vote request to Server1
2020/12/17 16:47:24 [Server2] Send vote request to Server0
2020/12/17 16:47:24 [Server0] Received vote request from Server2
2020/12/17 16:47:24 [Server0] Vote true for request from Server2
2020/12/17 16:47:24 [Server2] Received 2 votes, win an election
2020/12/17 16:47:24 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:24 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:24 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:24 [Server0] Reset it's timer to 636ms milliseconds after 2020-12-17 16:47:24.609812 -0800 PST m=+49.357830585
2020/12/17 16:47:24 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:24 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:24 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:24 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:24 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:24 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:24 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:24 [Server0] Reset it's timer to 675ms milliseconds after 2020-12-17 16:47:24.812964 -0800 PST m=+49.560982109
2020/12/17 16:47:24 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:24 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:24 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:24 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:25 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:25 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:25 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:25 [Server0] Reset it's timer to 711ms milliseconds after 2020-12-17 16:47:25.016545 -0800 PST m=+49.764561912
2020/12/17 16:47:25 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:25 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:25 [Progress] Line 62 passed
2020/12/17 16:47:25 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:25 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:25 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:25 [Server1] Received append entries with higher term from 2, enter a new term and become follower
2020/12/17 16:47:25 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:25 [Server0] Reset it's timer to 581ms milliseconds after 2020-12-17 16:47:25.21904 -0800 PST m=+49.967056458
2020/12/17 16:47:25 [Server1] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:25 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:25 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:25 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:25 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:25 [Server1] Reset it's timer to 638ms milliseconds after 2020-12-17 16:47:25.424026 -0800 PST m=+50.172040984
2020/12/17 16:47:25 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:25 [Server0] Reset it's timer to 622ms milliseconds after 2020-12-17 16:47:25.424148 -0800 PST m=+50.172162846
2020/12/17 16:47:25 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:25 [Progress] Line 67 passed
2020/12/17 16:47:25 [Disconnect] Server2 and Server0 has disconnected
2020/12/17 16:47:25 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:25 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:25 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:25 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:26 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:26 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:26 [Server0] Start an election, it's currentTerm is 3
2020/12/17 16:47:26 [Server0] Send vote request to Server2
2020/12/17 16:47:26 [Server0] Send vote request to Server1
2020/12/17 16:47:26 [Server1] Start an election, it's currentTerm is 3
2020/12/17 16:47:26 [Server1] Send vote request to Server2
2020/12/17 16:47:26 [Server1] Send vote request to Server0
2020/12/17 16:47:26 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:26 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:26 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:26 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:26 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:26 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:26 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:26 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:26 [Server1] Start an election, it's currentTerm is 4
2020/12/17 16:47:26 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:26 [Server1] Send vote request to Server0
2020/12/17 16:47:26 [Server1] Send vote request to Server2
2020/12/17 16:47:26 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:26 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:26 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:26 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:26 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:26 [Server0] Start an election, it's currentTerm is 4
2020/12/17 16:47:26 [Server0] Send vote request to Server2
2020/12/17 16:47:26 [Server0] Send vote request to Server1
2020/12/17 16:47:27 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:27 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:27 [Server1] Start an election, it's currentTerm is 5
2020/12/17 16:47:27 [Server1] Send vote request to Server2
2020/12/17 16:47:27 [Server1] Send vote request to Server0
2020/12/17 16:47:27 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:27 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:27 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:27 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:27 [Server0] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:27 [Server0] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:27 [Server0] Start an election, it's currentTerm is 5
2020/12/17 16:47:27 [Server0] Send vote request to Server2
2020/12/17 16:47:27 [Server0] Send vote request to Server1
2020/12/17 16:47:27 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:27 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:27 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:27 [Check]Server0 is not connected
2020/12/17 16:47:27 [Check]Server1 is not leader
2020/12/17 16:47:27 [Check]Server2 is not connected
2020/12/17 16:47:27 [Progress] Line 75 passed
2020/12/17 16:47:27 [Reconnect]Server0 has reconnected
2020/12/17 16:47:27 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:27 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:27 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:27 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:27 [Server1] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:27 [Server1] Start an election, it's currentTerm is 6
2020/12/17 16:47:27 [Server1] Send vote request to Server2
2020/12/17 16:47:27 [Server1] Send vote request to Server0
2020/12/17 16:47:27 [Server0] Received vote request from Server1
2020/12/17 16:47:27 [Server0] Vote true for request from Server1
2020/12/17 16:47:27 [Server1] Received 2 votes, win an election
2020/12/17 16:47:27 [Server1] End the election not in candidate state
2020/12/17 16:47:27 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:27 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:27 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:27 [Server0] Reset it's timer to 530ms milliseconds after 2020-12-17 16:47:27.809435 -0800 PST m=+52.557440015
2020/12/17 16:47:27 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:27 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:27 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:28 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:28 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:28 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:28 [Server0] Reset it's timer to 633ms milliseconds after 2020-12-17 16:47:28.011933 -0800 PST m=+52.759937542
2020/12/17 16:47:28 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:28 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:28 [Progress] Line 79 passed
2020/12/17 16:47:28 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:28 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:28 [Server2] Received append entries with higher term from 1, enter a new term and become follower
2020/12/17 16:47:28 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:28 [Server0] Reset it's timer to 534ms milliseconds after 2020-12-17 16:47:28.21379 -0800 PST m=+52.961794168
2020/12/17 16:47:28 [Server2] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:28 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:28 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:28 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:28 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:28 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:28 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:28 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:28 [Server0] Reset it's timer to 761ms milliseconds after 2020-12-17 16:47:28.417289 -0800 PST m=+53.165292398
2020/12/17 16:47:28 [Server2] Reset it's timer to 532ms milliseconds after 2020-12-17 16:47:28.417244 -0800 PST m=+53.165246667
2020/12/17 16:47:28 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:28 [Server1] Received vote request from Server0
2020/12/17 16:47:28 [Server1] Vote false for request from Server0, because its term 6 is greater than that in request(term 4)
2020/12/17 16:47:28 [Server0] End the election not in candidate state
2020/12/17 16:47:28 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:28 [Server1] Received vote request from Server0
2020/12/17 16:47:28 [Server1] Vote false for request from Server0, because its term 6 is greater than that in request(term 3)
2020/12/17 16:47:28 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:28 [Server0] Received vote request from Server1
2020/12/17 16:47:28 [Server0] Vote false for request from Server1, because its term 6 is greater than that in request(term 5)
2020/12/17 16:47:28 [Server1] End the election not in candidate state
2020/12/17 16:47:28 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:28 [Progress] Line 84 passed
  ... Passed --   5.5  3   84    6566    0
2020/12/17 16:47:28 [Server0] Make()
2020/12/17 16:47:28 [Server1] Make()
2020/12/17 16:47:28 [Server2] Make()
Test (2A): initial election ...
2020/12/17 16:47:28 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:28 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:29 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:29 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:29 [Server0] Start an election, it's currentTerm is 1
2020/12/17 16:47:29 [Server0] Send vote request to Server2
2020/12/17 16:47:29 [Server0] Send vote request to Server1
2020/12/17 16:47:29 [Server2] Received vote request from Server0
2020/12/17 16:47:29 [Server2] Vote true for request from Server0
2020/12/17 16:47:29 [Server1] Received vote request from Server0
2020/12/17 16:47:29 [Server1] Vote true for request from Server0
2020/12/17 16:47:29 [Server0] Received 2 votes, win an election
2020/12/17 16:47:29 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:29 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:29 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:29 [Server1] Reset it's timer to 747ms milliseconds after 2020-12-17 16:47:29.136711 -0800 PST m=+53.884710531
2020/12/17 16:47:29 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:29 [Server2] Reset it's timer to 676ms milliseconds after 2020-12-17 16:47:29.136867 -0800 PST m=+53.884867203
2020/12/17 16:47:29 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:29 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:29 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:29 [Server2] Reset it's timer to 714ms milliseconds after 2020-12-17 16:47:29.337648 -0800 PST m=+54.085646603
2020/12/17 16:47:29 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:29 [Server1] Reset it's timer to 726ms milliseconds after 2020-12-17 16:47:29.33776 -0800 PST m=+54.085758984
2020/12/17 16:47:29 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:29 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:29 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:29 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:29 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:29 [Server1] Reset it's timer to 784ms milliseconds after 2020-12-17 16:47:29.539516 -0800 PST m=+54.287514147
2020/12/17 16:47:29 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:29 [Server2] Reset it's timer to 725ms milliseconds after 2020-12-17 16:47:29.539597 -0800 PST m=+54.287594858
2020/12/17 16:47:29 [Sleep] Before sleep
2020/12/17 16:47:29 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:29 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:29 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:29 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:29 [Server1] Reset it's timer to 750ms milliseconds after 2020-12-17 16:47:29.741337 -0800 PST m=+54.489334823
2020/12/17 16:47:29 [Server2] Reset it's timer to 740ms milliseconds after 2020-12-17 16:47:29.741294 -0800 PST m=+54.489291563
2020/12/17 16:47:29 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:29 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:29 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:29 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:29 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:29 [Server2] Reset it's timer to 638ms milliseconds after 2020-12-17 16:47:29.943568 -0800 PST m=+54.691564272
2020/12/17 16:47:29 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:29 [Server1] Reset it's timer to 582ms milliseconds after 2020-12-17 16:47:29.943677 -0800 PST m=+54.691673114
2020/12/17 16:47:29 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:30 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:30 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:30 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:30 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:30 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:30 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:30 [Server2] Reset it's timer to 511ms milliseconds after 2020-12-17 16:47:30.148326 -0800 PST m=+54.896322107
2020/12/17 16:47:30 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:30 [Server1] Reset it's timer to 753ms milliseconds after 2020-12-17 16:47:30.148398 -0800 PST m=+54.896393668
2020/12/17 16:47:30 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:30 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:30 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:30 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:30 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:30 [Server2] Reset it's timer to 603ms milliseconds after 2020-12-17 16:47:30.351436 -0800 PST m=+55.099430436
2020/12/17 16:47:30 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:30 [Server1] Reset it's timer to 521ms milliseconds after 2020-12-17 16:47:30.351533 -0800 PST m=+55.099527826
2020/12/17 16:47:30 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:30 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:30 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:30 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:30 [Server2] Reset it's timer to 545ms milliseconds after 2020-12-17 16:47:30.555844 -0800 PST m=+55.303838355
2020/12/17 16:47:30 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:30 [Server1] Reset it's timer to 597ms milliseconds after 2020-12-17 16:47:30.555901 -0800 PST m=+55.303894581
2020/12/17 16:47:30 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:30 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:30 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:30 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:30 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:30 [Server2] Reset it's timer to 696ms milliseconds after 2020-12-17 16:47:30.756407 -0800 PST m=+55.504400634
2020/12/17 16:47:30 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:30 [Server1] Reset it's timer to 767ms milliseconds after 2020-12-17 16:47:30.756484 -0800 PST m=+55.504477771
2020/12/17 16:47:30 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:30 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:30 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:30 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:30 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:30 [Server2] Reset it's timer to 792ms milliseconds after 2020-12-17 16:47:30.956548 -0800 PST m=+55.704540036
2020/12/17 16:47:30 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:30 [Server1] Reset it's timer to 565ms milliseconds after 2020-12-17 16:47:30.956604 -0800 PST m=+55.704596128
2020/12/17 16:47:31 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:31 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:31 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:31 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:31 [Server2] Reset it's timer to 624ms milliseconds after 2020-12-17 16:47:31.156847 -0800 PST m=+55.904838183
2020/12/17 16:47:31 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:31 [Server1] Reset it's timer to 780ms milliseconds after 2020-12-17 16:47:31.156904 -0800 PST m=+55.904895576
2020/12/17 16:47:31 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:31 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:31 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:31 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:31 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:31 [Server2] Reset it's timer to 572ms milliseconds after 2020-12-17 16:47:31.357359 -0800 PST m=+56.105349754
2020/12/17 16:47:31 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:31 [Server1] Reset it's timer to 773ms milliseconds after 2020-12-17 16:47:31.357412 -0800 PST m=+56.105403250
2020/12/17 16:47:31 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:31 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:31 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:31 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:31 [Server2] Reset it's timer to 765ms milliseconds after 2020-12-17 16:47:31.559552 -0800 PST m=+56.307541956
2020/12/17 16:47:31 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:31 [Server1] Reset it's timer to 583ms milliseconds after 2020-12-17 16:47:31.559639 -0800 PST m=+56.307629351
2020/12/17 16:47:31 [Sleep] After sleep
2020/12/17 16:47:31 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:31 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:31 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:31 [Server2] Reset it's timer to 636ms milliseconds after 2020-12-17 16:47:31.760615 -0800 PST m=+56.508603609
2020/12/17 16:47:31 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:31 [Server1] Reset it's timer to 769ms milliseconds after 2020-12-17 16:47:31.76069 -0800 PST m=+56.508679139
2020/12/17 16:47:31 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:31 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:31 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:31 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:31 [Server2] Reset it's timer to 500ms milliseconds after 2020-12-17 16:47:31.961895 -0800 PST m=+56.709883356
2020/12/17 16:47:31 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:31 [Server1] Reset it's timer to 791ms milliseconds after 2020-12-17 16:47:31.961997 -0800 PST m=+56.709984962
2020/12/17 16:47:32 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:32 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:32 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:32 [Server2] Reset it's timer to 616ms milliseconds after 2020-12-17 16:47:32.163863 -0800 PST m=+56.911850210
2020/12/17 16:47:32 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:32 [Server1] Reset it's timer to 788ms milliseconds after 2020-12-17 16:47:32.163962 -0800 PST m=+56.911949395
2020/12/17 16:47:32 [Server0] Error when sending vote request to server 2, retry
  ... Passed --   3.6  3   34    3706    0
2020/12/17 16:47:32 [Server0] Make()
2020/12/17 16:47:32 [Server1] Make()
2020/12/17 16:47:32 [Server2] Make()
Test (2A): election after network failure ...
2020/12/17 16:47:32 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:32 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:32 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:32 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:32 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:32 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:32 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:32 [Server1] Start an election, it's currentTerm is 1
2020/12/17 16:47:32 [Server1] Send vote request to Server2
2020/12/17 16:47:32 [Server1] Send vote request to Server0
2020/12/17 16:47:32 [Server2] Received vote request from Server1
2020/12/17 16:47:32 [Server2] Vote true for request from Server1
2020/12/17 16:47:32 [Server0] Received vote request from Server1
2020/12/17 16:47:32 [Server0] Vote true for request from Server1
2020/12/17 16:47:32 [Server1] Received 2 votes, win an election
2020/12/17 16:47:32 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:32 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:32 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:32 [Server2] Reset it's timer to 592ms milliseconds after 2020-12-17 16:47:32.830801 -0800 PST m=+57.578785448
2020/12/17 16:47:32 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:32 [Server0] Reset it's timer to 755ms milliseconds after 2020-12-17 16:47:32.830912 -0800 PST m=+57.578896201
2020/12/17 16:47:32 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:33 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:33 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:33 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:33 [Server2] Reset it's timer to 505ms milliseconds after 2020-12-17 16:47:33.036052 -0800 PST m=+57.784035436
2020/12/17 16:47:33 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:33 [Server0] Reset it's timer to 608ms milliseconds after 2020-12-17 16:47:33.036148 -0800 PST m=+57.784132051
2020/12/17 16:47:33 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:33 [Progress] Line 58 passed
2020/12/17 16:47:33 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:33 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:33 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:33 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:33 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:33 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:33 [Server2] Start an election, it's currentTerm is 2
2020/12/17 16:47:33 [Server2] Send vote request to Server1
2020/12/17 16:47:33 [Server2] Send vote request to Server0
2020/12/17 16:47:33 [Server0] Received vote request from Server2
2020/12/17 16:47:33 [Server0] Vote true for request from Server2
2020/12/17 16:47:33 [Server2] Received 2 votes, win an election
2020/12/17 16:47:33 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:33 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:33 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:33 [Server0] Reset it's timer to 620ms milliseconds after 2020-12-17 16:47:33.548252 -0800 PST m=+58.296233551
2020/12/17 16:47:33 [Progress] Line 62 passed
2020/12/17 16:47:33 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:33 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:33 [Server2] Received append entries with lower term form Server1
2020/12/17 16:47:33 [Server0] Received append entries with lower term form Server1
2020/12/17 16:47:33 [Server1] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:47:33 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:33 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:33 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:33 [Server1] Reset it's timer to 598ms milliseconds after 2020-12-17 16:47:33.749013 -0800 PST m=+58.496993879
2020/12/17 16:47:33 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:33 [Server0] Reset it's timer to 582ms milliseconds after 2020-12-17 16:47:33.749114 -0800 PST m=+58.497094836
2020/12/17 16:47:33 [Server1] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:33 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:33 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:33 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:33 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:33 [Server0] Reset it's timer to 788ms milliseconds after 2020-12-17 16:47:33.950383 -0800 PST m=+58.698362841
2020/12/17 16:47:33 [Server1] Reset it's timer to 740ms milliseconds after 2020-12-17 16:47:33.950339 -0800 PST m=+58.698319531
2020/12/17 16:47:34 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:34 [Progress] Line 67 passed
2020/12/17 16:47:34 [Disconnect] Server2 and Server0 has disconnected
2020/12/17 16:47:34 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:34 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:34 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:34 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:34 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:34 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:34 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:34 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:34 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:34 [Server1] Start an election, it's currentTerm is 3
2020/12/17 16:47:34 [Server1] Send vote request to Server2
2020/12/17 16:47:34 [Server1] Send vote request to Server0
2020/12/17 16:47:34 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:34 [Server0] Start an election, it's currentTerm is 3
2020/12/17 16:47:34 [Server0] Send vote request to Server2
2020/12/17 16:47:34 [Server0] Send vote request to Server1
2020/12/17 16:47:34 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:34 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:34 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:34 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:34 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:34 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:35 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:35 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:35 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:35 [Server0] Start an election, it's currentTerm is 4
2020/12/17 16:47:35 [Server0] Send vote request to Server2
2020/12/17 16:47:35 [Server0] Send vote request to Server1
2020/12/17 16:47:35 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:35 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:35 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:35 [Server1] Start an election, it's currentTerm is 4
2020/12/17 16:47:35 [Server1] Send vote request to Server2
2020/12/17 16:47:35 [Server1] Send vote request to Server0
2020/12/17 16:47:35 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:35 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:35 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:35 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:35 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:35 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:35 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:35 [Server0] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:35 [Server0] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:35 [Server0] Start an election, it's currentTerm is 5
2020/12/17 16:47:35 [Server0] Send vote request to Server2
2020/12/17 16:47:35 [Server0] Send vote request to Server1
2020/12/17 16:47:35 [Server1] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:35 [Server1] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:35 [Server1] Start an election, it's currentTerm is 5
2020/12/17 16:47:35 [Server1] Send vote request to Server2
2020/12/17 16:47:35 [Server1] Send vote request to Server0
2020/12/17 16:47:35 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:35 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:36 [Check]Server0 is not connected
2020/12/17 16:47:36 [Check]Server1 is not leader
2020/12/17 16:47:36 [Check]Server2 is not connected
2020/12/17 16:47:36 [Progress] Line 75 passed
2020/12/17 16:47:36 [Reconnect]Server0 has reconnected
2020/12/17 16:47:36 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:36 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:36 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:36 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:36 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:36 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:36 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:36 [Server1] Received vote request from Server0
2020/12/17 16:47:36 [Server1] Vote false for request from Server0, because its term 5 is greater than that in request(term 4)
2020/12/17 16:47:36 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:36 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:36 [Server0] Start an election, it's currentTerm is 6
2020/12/17 16:47:36 [Server0] Send vote request to Server2
2020/12/17 16:47:36 [Server0] Send vote request to Server1
2020/12/17 16:47:36 [Server1] Received vote request from Server0
2020/12/17 16:47:36 [Server1] Vote true for request from Server0
2020/12/17 16:47:36 [Server0] Received 2 votes, win an election
2020/12/17 16:47:36 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:36 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:36 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:36 [Server1] Reset it's timer to 555ms milliseconds after 2020-12-17 16:47:36.583196 -0800 PST m=+61.331165308
2020/12/17 16:47:36 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:36 [Progress] Line 79 passed
2020/12/17 16:47:36 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:36 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:36 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:36 [Server1] Received append entries with lower term form Server2
2020/12/17 16:47:36 [Server0] Received append entries with lower term form Server2
2020/12/17 16:47:36 [Server2] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:47:36 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:36 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:36 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:36 [Server2] Reset it's timer to 724ms milliseconds after 2020-12-17 16:47:36.7838 -0800 PST m=+61.531767953
2020/12/17 16:47:36 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:36 [Server1] Reset it's timer to 642ms milliseconds after 2020-12-17 16:47:36.783885 -0800 PST m=+61.531853589
2020/12/17 16:47:36 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:36 [Server0] Received vote request from Server1
2020/12/17 16:47:36 [Server0] Vote false for request from Server1, because its term 6 is greater than that in request(term 3)
2020/12/17 16:47:36 [Server1] End the election not in candidate state
2020/12/17 16:47:36 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:36 [Server2] Received vote request from Server0
2020/12/17 16:47:36 [Server2] Vote false for request from Server0, because its term 6 is greater than that in request(term 5)
2020/12/17 16:47:36 [Server0] End the election not in candidate state
2020/12/17 16:47:36 [Server2] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:36 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:36 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:36 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:36 [Server1] Reset it's timer to 643ms milliseconds after 2020-12-17 16:47:36.984543 -0800 PST m=+61.732510484
2020/12/17 16:47:36 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:36 [Server2] Reset it's timer to 642ms milliseconds after 2020-12-17 16:47:36.984632 -0800 PST m=+61.732599896
2020/12/17 16:47:37 [Progress] Line 84 passed
  ... Passed --   5.0  3   75    5945    0
2020/12/17 16:47:37 [Server0] Make()
2020/12/17 16:47:37 [Server1] Make()
2020/12/17 16:47:37 [Server2] Make()
Test (2A): initial election ...
2020/12/17 16:47:37 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:37 [Server0] Error when sending heartbeat to Server2
2020/12/17 16:47:37 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:37 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:37 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:37 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:37 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:37 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:37 [Server1] Start an election, it's currentTerm is 1
2020/12/17 16:47:37 [Server1] Send vote request to Server2
2020/12/17 16:47:37 [Server1] Send vote request to Server0
2020/12/17 16:47:37 [Server2] Received vote request from Server1
2020/12/17 16:47:37 [Server0] Received vote request from Server1
2020/12/17 16:47:37 [Server0] Vote true for request from Server1
2020/12/17 16:47:37 [Server2] Vote true for request from Server1
2020/12/17 16:47:37 [Server1] Received 2 votes, win an election
2020/12/17 16:47:37 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:37 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:37 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:37 [Server2] Reset it's timer to 532ms milliseconds after 2020-12-17 16:47:37.799001 -0800 PST m=+62.546965742
2020/12/17 16:47:37 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:37 [Server0] Reset it's timer to 732ms milliseconds after 2020-12-17 16:47:37.799142 -0800 PST m=+62.547105918
2020/12/17 16:47:38 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:38 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:38 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:38 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:38 [Server0] Reset it's timer to 719ms milliseconds after 2020-12-17 16:47:38.002828 -0800 PST m=+62.750791742
2020/12/17 16:47:38 [Server2] Reset it's timer to 542ms milliseconds after 2020-12-17 16:47:38.002783 -0800 PST m=+62.750746484
2020/12/17 16:47:38 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:38 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:38 [Sleep] Before sleep
2020/12/17 16:47:38 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:38 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:38 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:38 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:38 [Server0] Reset it's timer to 518ms milliseconds after 2020-12-17 16:47:38.204166 -0800 PST m=+62.952128657
2020/12/17 16:47:38 [Server2] Reset it's timer to 742ms milliseconds after 2020-12-17 16:47:38.204195 -0800 PST m=+62.952157681
2020/12/17 16:47:38 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:38 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:38 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:38 [Server2] Reset it's timer to 770ms milliseconds after 2020-12-17 16:47:38.405806 -0800 PST m=+63.153767621
2020/12/17 16:47:38 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:38 [Server0] Reset it's timer to 628ms milliseconds after 2020-12-17 16:47:38.405859 -0800 PST m=+63.153820864
2020/12/17 16:47:38 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:38 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:38 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:38 [Server2] Reset it's timer to 520ms milliseconds after 2020-12-17 16:47:38.608275 -0800 PST m=+63.356235681
2020/12/17 16:47:38 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:38 [Server0] Reset it's timer to 754ms milliseconds after 2020-12-17 16:47:38.608384 -0800 PST m=+63.356344621
2020/12/17 16:47:38 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:38 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:38 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:38 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:38 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:38 [Server2] Reset it's timer to 532ms milliseconds after 2020-12-17 16:47:38.813231 -0800 PST m=+63.561190887
2020/12/17 16:47:38 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:38 [Server0] Reset it's timer to 558ms milliseconds after 2020-12-17 16:47:38.813284 -0800 PST m=+63.561244296
2020/12/17 16:47:39 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:39 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:39 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:39 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:39 [Server2] Reset it's timer to 585ms milliseconds after 2020-12-17 16:47:39.018332 -0800 PST m=+63.766291431
2020/12/17 16:47:39 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:39 [Server0] Reset it's timer to 500ms milliseconds after 2020-12-17 16:47:39.018435 -0800 PST m=+63.766394159
2020/12/17 16:47:39 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:39 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:39 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:39 [Server2] Reset it's timer to 799ms milliseconds after 2020-12-17 16:47:39.219291 -0800 PST m=+63.967249836
2020/12/17 16:47:39 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:39 [Server0] Reset it's timer to 790ms milliseconds after 2020-12-17 16:47:39.219365 -0800 PST m=+63.967323814
2020/12/17 16:47:39 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:39 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:39 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:39 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:39 [Server2] Reset it's timer to 598ms milliseconds after 2020-12-17 16:47:39.419993 -0800 PST m=+64.167950186
2020/12/17 16:47:39 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:39 [Server0] Reset it's timer to 548ms milliseconds after 2020-12-17 16:47:39.420117 -0800 PST m=+64.168074786
2020/12/17 16:47:39 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:39 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:39 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:39 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:39 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:39 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:39 [Server2] Reset it's timer to 736ms milliseconds after 2020-12-17 16:47:39.624132 -0800 PST m=+64.372088735
2020/12/17 16:47:39 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:39 [Server0] Reset it's timer to 610ms milliseconds after 2020-12-17 16:47:39.62421 -0800 PST m=+64.372166894
2020/12/17 16:47:39 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:39 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:39 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:39 [Server2] Reset it's timer to 545ms milliseconds after 2020-12-17 16:47:39.826597 -0800 PST m=+64.574553334
2020/12/17 16:47:39 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:39 [Server0] Reset it's timer to 600ms milliseconds after 2020-12-17 16:47:39.826669 -0800 PST m=+64.574624704
2020/12/17 16:47:39 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:40 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:40 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:40 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:40 [Server2] Reset it's timer to 662ms milliseconds after 2020-12-17 16:47:40.028484 -0800 PST m=+64.776438697
2020/12/17 16:47:40 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:40 [Server0] Reset it's timer to 643ms milliseconds after 2020-12-17 16:47:40.028613 -0800 PST m=+64.776568135
2020/12/17 16:47:40 [Sleep] After sleep
2020/12/17 16:47:40 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:40 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:40 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:40 [Server0] Reset it's timer to 679ms milliseconds after 2020-12-17 16:47:40.228527 -0800 PST m=+64.976481385
2020/12/17 16:47:40 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:40 [Server2] Reset it's timer to 592ms milliseconds after 2020-12-17 16:47:40.228602 -0800 PST m=+64.976556371
2020/12/17 16:47:40 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:40 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:40 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:40 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:40 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:40 [Server2] Reset it's timer to 690ms milliseconds after 2020-12-17 16:47:40.428921 -0800 PST m=+65.176874552
2020/12/17 16:47:40 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:40 [Server0] Reset it's timer to 679ms milliseconds after 2020-12-17 16:47:40.428986 -0800 PST m=+65.176939231
2020/12/17 16:47:40 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:40 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:40 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:40 [Server2] Reset it's timer to 640ms milliseconds after 2020-12-17 16:47:40.630278 -0800 PST m=+65.378230621
2020/12/17 16:47:40 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:40 [Server0] Reset it's timer to 739ms milliseconds after 2020-12-17 16:47:40.630373 -0800 PST m=+65.378325536
  ... Passed --   3.5  3   32    3554    0
2020/12/17 16:47:40 [Server0] Make()
2020/12/17 16:47:40 [Server1] Make()
2020/12/17 16:47:40 [Server2] Make()
Test (2A): election after network failure ...
2020/12/17 16:47:40 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:40 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:41 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:41 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:41 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:41 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:41 [Server2] Start an election, it's currentTerm is 1
2020/12/17 16:47:41 [Server2] Send vote request to Server1
2020/12/17 16:47:41 [Server2] Send vote request to Server0
2020/12/17 16:47:41 [Server1] Received vote request from Server2
2020/12/17 16:47:41 [Server1] Vote true for request from Server2
2020/12/17 16:47:41 [Server0] Received vote request from Server2
2020/12/17 16:47:41 [Server0] Vote true for request from Server2
2020/12/17 16:47:41 [Server2] Received 2 votes, win an election
2020/12/17 16:47:41 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:41 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:41 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:41 [Server1] Reset it's timer to 572ms milliseconds after 2020-12-17 16:47:41.263472 -0800 PST m=+66.011422235
2020/12/17 16:47:41 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:41 [Server0] Reset it's timer to 586ms milliseconds after 2020-12-17 16:47:41.263639 -0800 PST m=+66.011588882
2020/12/17 16:47:41 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:41 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:41 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:41 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:41 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:41 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:41 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:41 [Server0] Reset it's timer to 685ms milliseconds after 2020-12-17 16:47:41.464379 -0800 PST m=+66.212328597
2020/12/17 16:47:41 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:41 [Server1] Reset it's timer to 613ms milliseconds after 2020-12-17 16:47:41.464453 -0800 PST m=+66.212402649
2020/12/17 16:47:41 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:41 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:41 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:41 [Server1] Reset it's timer to 650ms milliseconds after 2020-12-17 16:47:41.66455 -0800 PST m=+66.412497989
2020/12/17 16:47:41 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:41 [Server0] Reset it's timer to 685ms milliseconds after 2020-12-17 16:47:41.664648 -0800 PST m=+66.412595976
2020/12/17 16:47:41 [Progress] Line 58 passed
2020/12/17 16:47:41 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:41 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:42 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:42 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:42 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:47:42 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:42 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:42 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:42 [Server1] Start an election, it's currentTerm is 2
2020/12/17 16:47:42 [Server1] Send vote request to Server2
2020/12/17 16:47:42 [Server1] Send vote request to Server0
2020/12/17 16:47:42 [Server0] Received vote request from Server1
2020/12/17 16:47:42 [Server0] Vote true for request from Server1
2020/12/17 16:47:42 [Server1] Received 2 votes, win an election
2020/12/17 16:47:42 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:42 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:42 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:42 [Server0] Reset it's timer to 774ms milliseconds after 2020-12-17 16:47:42.326687 -0800 PST m=+67.074632452
2020/12/17 16:47:42 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:42 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:42 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:42 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:42 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:42 [Server0] Reset it's timer to 731ms milliseconds after 2020-12-17 16:47:42.527289 -0800 PST m=+67.275233391
2020/12/17 16:47:42 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:42 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:42 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:42 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:42 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:42 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:42 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:42 [Server0] Reset it's timer to 504ms milliseconds after 2020-12-17 16:47:42.727507 -0800 PST m=+67.475450719
2020/12/17 16:47:42 [Progress] Line 62 passed
2020/12/17 16:47:42 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:42 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:42 [Server0] Received append entries with lower term form Server2
2020/12/17 16:47:42 [Server1] Received append entries with lower term form Server2
2020/12/17 16:47:42 [Server2] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:47:42 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:42 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:42 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:42 [Server2] Reset it's timer to 683ms milliseconds after 2020-12-17 16:47:42.927838 -0800 PST m=+67.675780677
2020/12/17 16:47:42 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:42 [Server0] Reset it's timer to 565ms milliseconds after 2020-12-17 16:47:42.927942 -0800 PST m=+67.675885302
2020/12/17 16:47:43 [Server2] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:43 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:43 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:43 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:43 [Server2] Reset it's timer to 574ms milliseconds after 2020-12-17 16:47:43.129632 -0800 PST m=+67.877574380
2020/12/17 16:47:43 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:43 [Server0] Reset it's timer to 799ms milliseconds after 2020-12-17 16:47:43.129707 -0800 PST m=+67.877649572
2020/12/17 16:47:43 [Progress] Line 67 passed
2020/12/17 16:47:43 [Disconnect] Server1 and Server2 has disconnected
2020/12/17 16:47:43 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:43 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:43 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:43 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:43 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:43 [Server2] Start an election, it's currentTerm is 3
2020/12/17 16:47:43 [Server2] Send vote request to Server1
2020/12/17 16:47:43 [Server2] Send vote request to Server0
2020/12/17 16:47:43 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:43 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:43 [Server0] Start an election, it's currentTerm is 3
2020/12/17 16:47:43 [Server0] Send vote request to Server2
2020/12/17 16:47:43 [Server0] Send vote request to Server1
2020/12/17 16:47:43 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:43 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:44 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:44 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:44 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:44 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:44 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:44 [Server2] Start an election, it's currentTerm is 4
2020/12/17 16:47:44 [Server2] Send vote request to Server1
2020/12/17 16:47:44 [Server2] Send vote request to Server0
2020/12/17 16:47:44 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:44 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:44 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:44 [Server0] Start an election, it's currentTerm is 4
2020/12/17 16:47:44 [Server0] Send vote request to Server2
2020/12/17 16:47:44 [Server0] Send vote request to Server1
2020/12/17 16:47:44 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:44 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:44 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:44 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:44 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:44 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:44 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:44 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:45 [Server2] Start an election, it's currentTerm is 5
2020/12/17 16:47:45 [Server2] Send vote request to Server1
2020/12/17 16:47:45 [Server2] Send vote request to Server0
2020/12/17 16:47:45 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:45 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:45 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:45 [Server0] Start an election, it's currentTerm is 5
2020/12/17 16:47:45 [Server0] Send vote request to Server2
2020/12/17 16:47:45 [Server0] Send vote request to Server1
2020/12/17 16:47:45 [Check]Server0 is not leader
2020/12/17 16:47:45 [Check]Server1 is not connected
2020/12/17 16:47:45 [Check]Server2 is not connected
2020/12/17 16:47:45 [Progress] Line 75 passed
2020/12/17 16:47:45 [Reconnect]Server2 has reconnected
2020/12/17 16:47:45 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:45 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:45 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:45 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:45 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:45 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:45 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:45 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:45 [Server0] Start an election, it's currentTerm is 6
2020/12/17 16:47:45 [Server0] Send vote request to Server2
2020/12/17 16:47:45 [Server0] Send vote request to Server1
2020/12/17 16:47:45 [Server2] Received vote request from Server0
2020/12/17 16:47:45 [Server2] Vote true for request from Server0
2020/12/17 16:47:45 [Server0] Received 2 votes, win an election
2020/12/17 16:47:45 [Server0] End the election not in candidate state
2020/12/17 16:47:45 [Server0] End the election not in candidate state
2020/12/17 16:47:45 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:45 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:45 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:45 [Server2] Reset it's timer to 624ms milliseconds after 2020-12-17 16:47:45.774216 -0800 PST m=+70.522147890
2020/12/17 16:47:45 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:45 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:45 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:45 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:45 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:45 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:45 [Server2] Reset it's timer to 517ms milliseconds after 2020-12-17 16:47:45.975825 -0800 PST m=+70.723756044
2020/12/17 16:47:45 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:46 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:46 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:46 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:46 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:46 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:46 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:46 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:46 [Server2] Reset it's timer to 573ms milliseconds after 2020-12-17 16:47:46.179269 -0800 PST m=+70.927199155
2020/12/17 16:47:46 [Progress] Line 79 passed
2020/12/17 16:47:46 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:46 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:46 [Server2] Received append entries with lower term form Server1
2020/12/17 16:47:46 [Server0] Received append entries with lower term form Server1
2020/12/17 16:47:46 [Server1] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:47:46 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:46 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:46 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:46 [Server1] Reset it's timer to 630ms milliseconds after 2020-12-17 16:47:46.381969 -0800 PST m=+71.129897992
2020/12/17 16:47:46 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:46 [Server2] Reset it's timer to 607ms milliseconds after 2020-12-17 16:47:46.382037 -0800 PST m=+71.129965537
2020/12/17 16:47:46 [Server1] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:46 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:46 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:46 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:46 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:46 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:46 [Server2] Reset it's timer to 733ms milliseconds after 2020-12-17 16:47:46.583421 -0800 PST m=+71.331348942
2020/12/17 16:47:46 [Server1] Reset it's timer to 602ms milliseconds after 2020-12-17 16:47:46.583448 -0800 PST m=+71.331375712
2020/12/17 16:47:46 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:46 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:46 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:46 [Server1] Received vote request from Server2
2020/12/17 16:47:46 [Server1] Vote false for request from Server2, because its term 6 is greater than that in request(term 4)
2020/12/17 16:47:46 [Server2] End the election not in candidate state
2020/12/17 16:47:46 [Server2] End the election not in candidate state
2020/12/17 16:47:46 [Server2] End the election not in candidate state
2020/12/17 16:47:46 [Server0] Sent heartbeat to Server2
2020/12/17 16:47:46 [Server0] Sent heartbeat to Server1
2020/12/17 16:47:46 [Server2] Received append entries with equal term form Server0
2020/12/17 16:47:46 [Server2] Reset it's timer to 500ms milliseconds after 2020-12-17 16:47:46.787889 -0800 PST m=+71.535816197
2020/12/17 16:47:46 [Server1] Received append entries with equal term form Server0
2020/12/17 16:47:46 [Server1] Reset it's timer to 541ms milliseconds after 2020-12-17 16:47:46.788007 -0800 PST m=+71.535934280
2020/12/17 16:47:46 [Progress] Line 84 passed
  ... Passed --   6.1  3   92    7250    0
2020/12/17 16:47:46 [Server0] Make()
2020/12/17 16:47:46 [Server1] Make()
2020/12/17 16:47:46 [Server2] Make()
Test (2A): initial election ...
2020/12/17 16:47:46 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:46 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:46 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:47 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:47 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:47 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:47 [Server2] Start an election, it's currentTerm is 1
2020/12/17 16:47:47 [Server2] Send vote request to Server1
2020/12/17 16:47:47 [Server2] Send vote request to Server0
2020/12/17 16:47:47 [Server1] Received vote request from Server2
2020/12/17 16:47:47 [Server1] Vote true for request from Server2
2020/12/17 16:47:47 [Server0] Received vote request from Server2
2020/12/17 16:47:47 [Server0] Vote true for request from Server2
2020/12/17 16:47:47 [Server2] Received 2 votes, win an election
2020/12/17 16:47:47 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:47 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:47 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:47 [Server1] Reset it's timer to 594ms milliseconds after 2020-12-17 16:47:47.328978 -0800 PST m=+72.076903363
2020/12/17 16:47:47 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:47 [Server0] Reset it's timer to 645ms milliseconds after 2020-12-17 16:47:47.32903 -0800 PST m=+72.076955303
2020/12/17 16:47:47 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:47 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:47 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:47 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:47 [Server1] Reset it's timer to 680ms milliseconds after 2020-12-17 16:47:47.530022 -0800 PST m=+72.277946238
2020/12/17 16:47:47 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:47 [Server0] Reset it's timer to 788ms milliseconds after 2020-12-17 16:47:47.530122 -0800 PST m=+72.278046150
2020/12/17 16:47:47 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:47 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:47 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:47 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:47 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:47 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:47 [Server0] Reset it's timer to 659ms milliseconds after 2020-12-17 16:47:47.730306 -0800 PST m=+72.478229520
2020/12/17 16:47:47 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:47 [Server1] Reset it's timer to 569ms milliseconds after 2020-12-17 16:47:47.730361 -0800 PST m=+72.478284505
2020/12/17 16:47:47 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:47 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:47 [Sleep] Before sleep
2020/12/17 16:47:47 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:47 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:47 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:47 [Server1] Reset it's timer to 785ms milliseconds after 2020-12-17 16:47:47.932415 -0800 PST m=+72.680337298
2020/12/17 16:47:47 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:47 [Server0] Reset it's timer to 664ms milliseconds after 2020-12-17 16:47:47.932477 -0800 PST m=+72.680399740
2020/12/17 16:47:47 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:48 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:48 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:48 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:48 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:48 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:48 [Server1] Reset it's timer to 589ms milliseconds after 2020-12-17 16:47:48.133061 -0800 PST m=+72.880982412
2020/12/17 16:47:48 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:48 [Server0] Reset it's timer to 501ms milliseconds after 2020-12-17 16:47:48.133145 -0800 PST m=+72.881066760
2020/12/17 16:47:48 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:48 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:48 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:48 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:48 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:48 [Server1] Reset it's timer to 574ms milliseconds after 2020-12-17 16:47:48.334171 -0800 PST m=+73.082092414
2020/12/17 16:47:48 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:48 [Server0] Reset it's timer to 627ms milliseconds after 2020-12-17 16:47:48.335381 -0800 PST m=+73.083301697
2020/12/17 16:47:48 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:48 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:48 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:48 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:48 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:48 [Server0] Reset it's timer to 557ms milliseconds after 2020-12-17 16:47:48.535717 -0800 PST m=+73.283637084
2020/12/17 16:47:48 [Server1] Reset it's timer to 678ms milliseconds after 2020-12-17 16:47:48.535679 -0800 PST m=+73.283599252
2020/12/17 16:47:48 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:48 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:48 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:48 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:48 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:48 [Server0] Reset it's timer to 673ms milliseconds after 2020-12-17 16:47:48.736304 -0800 PST m=+73.484223586
2020/12/17 16:47:48 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:48 [Server1] Reset it's timer to 789ms milliseconds after 2020-12-17 16:47:48.736358 -0800 PST m=+73.484277318
2020/12/17 16:47:48 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:48 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:48 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:48 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:48 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:48 [Server0] Reset it's timer to 615ms milliseconds after 2020-12-17 16:47:48.941482 -0800 PST m=+73.689400753
2020/12/17 16:47:48 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:48 [Server1] Reset it's timer to 735ms milliseconds after 2020-12-17 16:47:48.941616 -0800 PST m=+73.689534204
2020/12/17 16:47:49 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:47:49 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:49 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:49 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:49 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:49 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:49 [Server1] Reset it's timer to 542ms milliseconds after 2020-12-17 16:47:49.142781 -0800 PST m=+73.890698191
2020/12/17 16:47:49 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:49 [Server0] Reset it's timer to 565ms milliseconds after 2020-12-17 16:47:49.142852 -0800 PST m=+73.890769149
2020/12/17 16:47:49 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:49 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:49 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:49 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:49 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:49 [Server1] Reset it's timer to 635ms milliseconds after 2020-12-17 16:47:49.345929 -0800 PST m=+74.093845908
2020/12/17 16:47:49 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:49 [Server0] Reset it's timer to 771ms milliseconds after 2020-12-17 16:47:49.345987 -0800 PST m=+74.093904133
2020/12/17 16:47:49 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:49 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:49 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:49 [Server0] Reset it's timer to 789ms milliseconds after 2020-12-17 16:47:49.54856 -0800 PST m=+74.296475613
2020/12/17 16:47:49 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:49 [Server1] Reset it's timer to 775ms milliseconds after 2020-12-17 16:47:49.548673 -0800 PST m=+74.296589310
2020/12/17 16:47:49 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:49 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:49 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:49 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:49 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:49 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:49 [Server1] Reset it's timer to 740ms milliseconds after 2020-12-17 16:47:49.750957 -0800 PST m=+74.498872405
2020/12/17 16:47:49 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:49 [Server0] Reset it's timer to 515ms milliseconds after 2020-12-17 16:47:49.751015 -0800 PST m=+74.498929955
2020/12/17 16:47:49 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:49 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:49 [Sleep] After sleep
2020/12/17 16:47:49 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:49 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:49 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:49 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:49 [Server1] Reset it's timer to 700ms milliseconds after 2020-12-17 16:47:49.951282 -0800 PST m=+74.699196658
2020/12/17 16:47:49 [Server0] Reset it's timer to 725ms milliseconds after 2020-12-17 16:47:49.951251 -0800 PST m=+74.699164980
2020/12/17 16:47:50 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:50 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:50 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:50 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:50 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:50 [Server1] Reset it's timer to 566ms milliseconds after 2020-12-17 16:47:50.155426 -0800 PST m=+74.903339738
2020/12/17 16:47:50 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:50 [Server0] Reset it's timer to 665ms milliseconds after 2020-12-17 16:47:50.155483 -0800 PST m=+74.903396787
  ... Passed --   3.5  3   32    3554    0
2020/12/17 16:47:50 [Server0] Make()
2020/12/17 16:47:50 [Server1] Make()
2020/12/17 16:47:50 [Server2] Make()
Test (2A): election after network failure ...
2020/12/17 16:47:50 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:50 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:50 [Server2] Start an election, it's currentTerm is 1
2020/12/17 16:47:50 [Server2] Send vote request to Server1
2020/12/17 16:47:50 [Server2] Send vote request to Server0
2020/12/17 16:47:50 [Server1] Received vote request from Server2
2020/12/17 16:47:50 [Server1] Vote true for request from Server2
2020/12/17 16:47:50 [Server0] Received vote request from Server2
2020/12/17 16:47:50 [Server0] Vote true for request from Server2
2020/12/17 16:47:50 [Server2] Received 2 votes, win an election
2020/12/17 16:47:50 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:50 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:50 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:50 [Server1] Reset it's timer to 511ms milliseconds after 2020-12-17 16:47:50.864016 -0800 PST m=+75.611926238
2020/12/17 16:47:50 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:50 [Server0] Reset it's timer to 791ms milliseconds after 2020-12-17 16:47:50.864109 -0800 PST m=+75.612019948
2020/12/17 16:47:50 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:50 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:51 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:51 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:51 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:51 [Server1] Reset it's timer to 767ms milliseconds after 2020-12-17 16:47:51.06613 -0800 PST m=+75.814040098
2020/12/17 16:47:51 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:51 [Server0] Reset it's timer to 758ms milliseconds after 2020-12-17 16:47:51.066226 -0800 PST m=+75.814136055
2020/12/17 16:47:51 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:51 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:51 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:51 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:51 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:51 [Server0] Reset it's timer to 704ms milliseconds after 2020-12-17 16:47:51.268832 -0800 PST m=+76.016741175
2020/12/17 16:47:51 [Server1] Reset it's timer to 645ms milliseconds after 2020-12-17 16:47:51.268788 -0800 PST m=+76.016696479
2020/12/17 16:47:51 [Progress] Line 58 passed
2020/12/17 16:47:51 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:51 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:51 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:51 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:51 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:51 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:51 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:51 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:51 [Server1] Start an election, it's currentTerm is 2
2020/12/17 16:47:51 [Server1] Send vote request to Server2
2020/12/17 16:47:51 [Server1] Send vote request to Server0
2020/12/17 16:47:51 [Server0] Received vote request from Server1
2020/12/17 16:47:51 [Server0] Vote true for request from Server1
2020/12/17 16:47:51 [Server1] Received 2 votes, win an election
2020/12/17 16:47:51 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:51 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:51 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:51 [Server0] Reset it's timer to 713ms milliseconds after 2020-12-17 16:47:51.917061 -0800 PST m=+76.664967473
2020/12/17 16:47:52 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:52 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:52 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:52 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:52 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:52 [Server0] Reset it's timer to 528ms milliseconds after 2020-12-17 16:47:52.117834 -0800 PST m=+76.865738905
2020/12/17 16:47:52 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:52 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:52 [Progress] Line 62 passed
2020/12/17 16:47:52 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:52 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:52 [Server2] Received append entries with higher term from 1, enter a new term and become follower
2020/12/17 16:47:52 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:52 [Server0] Reset it's timer to 516ms milliseconds after 2020-12-17 16:47:52.319029 -0800 PST m=+77.066933917
2020/12/17 16:47:52 [Server2] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:52 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:52 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:52 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:52 [Server2] Reset it's timer to 753ms milliseconds after 2020-12-17 16:47:52.519666 -0800 PST m=+77.267569310
2020/12/17 16:47:52 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:52 [Server0] Reset it's timer to 544ms milliseconds after 2020-12-17 16:47:52.519793 -0800 PST m=+77.267697191
2020/12/17 16:47:52 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:52 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:52 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:52 [Server2] Reset it's timer to 735ms milliseconds after 2020-12-17 16:47:52.720704 -0800 PST m=+77.468607321
2020/12/17 16:47:52 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:52 [Server0] Reset it's timer to 666ms milliseconds after 2020-12-17 16:47:52.72077 -0800 PST m=+77.468673090
2020/12/17 16:47:52 [Server1] Error when sending vote request to server 2, retry
2020/12/17 16:47:52 [Server2] Received vote request from Server1
2020/12/17 16:47:52 [Server2] Vote true for request from Server1
2020/12/17 16:47:52 [Progress] Line 67 passed
2020/12/17 16:47:52 [Disconnect] Server1 and Server2 has disconnected
2020/12/17 16:47:52 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:52 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:53 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:53 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:53 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:53 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:53 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:53 [Server0] Start an election, it's currentTerm is 3
2020/12/17 16:47:53 [Server0] Send vote request to Server2
2020/12/17 16:47:53 [Server0] Send vote request to Server1
2020/12/17 16:47:53 [Server2] Start an election, it's currentTerm is 3
2020/12/17 16:47:53 [Server2] Send vote request to Server1
2020/12/17 16:47:53 [Server2] Send vote request to Server0
2020/12/17 16:47:53 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:53 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:53 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:53 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:53 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:53 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:54 [Server0] Start an election, it's currentTerm is 4
2020/12/17 16:47:54 [Server0] Send vote request to Server2
2020/12/17 16:47:54 [Server0] Send vote request to Server1
2020/12/17 16:47:54 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:54 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:54 [Server2] Start an election, it's currentTerm is 4
2020/12/17 16:47:54 [Server2] Send vote request to Server1
2020/12/17 16:47:54 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:54 [Server2] Send vote request to Server0
2020/12/17 16:47:54 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:54 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:54 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:54 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:54 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:54 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:54 [Server0] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:54 [Server0] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:47:54 [Server0] Start an election, it's currentTerm is 5
2020/12/17 16:47:54 [Server0] Send vote request to Server2
2020/12/17 16:47:54 [Server0] Send vote request to Server1
2020/12/17 16:47:54 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:54 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:54 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:54 [Check]Server0 is not leader
2020/12/17 16:47:54 [Check]Server1 is not connected
2020/12/17 16:47:54 [Check]Server2 is not connected
2020/12/17 16:47:54 [Progress] Line 75 passed
2020/12/17 16:47:54 [Reconnect]Server2 has reconnected
2020/12/17 16:47:54 [Server2] Start an election, it's currentTerm is 5
2020/12/17 16:47:54 [Server2] Send vote request to Server1
2020/12/17 16:47:54 [Server2] Send vote request to Server0
2020/12/17 16:47:54 [Server0] Received vote request from Server2
2020/12/17 16:47:54 [Server0] Vote false for request from Server2, because it has already voted for another server in this term
2020/12/17 16:47:54 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:54 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:55 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:55 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:55 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:55 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:55 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:55 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:55 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:55 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:55 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:55 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:55 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:55 [Server0] Start an election, it's currentTerm is 6
2020/12/17 16:47:55 [Server0] Send vote request to Server2
2020/12/17 16:47:55 [Server0] Send vote request to Server1
2020/12/17 16:47:55 [Server2] Start an election, it's currentTerm is 6
2020/12/17 16:47:55 [Server2] Send vote request to Server1
2020/12/17 16:47:55 [Server2] Received vote request from Server0
2020/12/17 16:47:55 [Server2] Vote false for request from Server0, because it has already voted for another server in this term
2020/12/17 16:47:55 [Server2] Send vote request to Server0
2020/12/17 16:47:55 [Server0] Received vote request from Server2
2020/12/17 16:47:55 [Server0] Vote false for request from Server2, because it has already voted for another server in this term
2020/12/17 16:47:55 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:55 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:55 [Server0] Received vote request from Server2
2020/12/17 16:47:55 [Server0] Vote false for request from Server2, because its term 6 is greater than that in request(term 4)
2020/12/17 16:47:55 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:55 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:55 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:55 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:55 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:55 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:55 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:55 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:56 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:56 [Server2] Start an election, it's currentTerm is 7
2020/12/17 16:47:56 [Server2] Send vote request to Server1
2020/12/17 16:47:56 [Server2] Send vote request to Server0
2020/12/17 16:47:56 [Server0] Received vote request from Server2
2020/12/17 16:47:56 [Server0] Vote true for request from Server2
2020/12/17 16:47:56 [Server2] Received 2 votes, win an election
2020/12/17 16:47:56 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:56 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:56 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:56 [Server0] Reset it's timer to 679ms milliseconds after 2020-12-17 16:47:56.147361 -0800 PST m=+80.895249918
2020/12/17 16:47:56 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:56 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:56 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:56 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:56 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:56 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:56 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:56 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:56 [Server0] Reset it's timer to 628ms milliseconds after 2020-12-17 16:47:56.350586 -0800 PST m=+81.098473508
2020/12/17 16:47:56 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:56 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:56 [Progress] Line 79 passed
2020/12/17 16:47:56 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:56 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:56 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:56 [Server1] Received append entries with higher term from 2, enter a new term and become follower
2020/12/17 16:47:56 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:56 [Server0] Reset it's timer to 521ms milliseconds after 2020-12-17 16:47:56.552135 -0800 PST m=+81.300021746
2020/12/17 16:47:56 [Server1] Stop sending heartbeat because it is no longer leader
2020/12/17 16:47:56 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:56 [Server2] Sent heartbeat to Server1
2020/12/17 16:47:56 [Server2] Sent heartbeat to Server0
2020/12/17 16:47:56 [Server0] Received append entries with equal term form Server2
2020/12/17 16:47:56 [Server1] Received append entries with equal term form Server2
2020/12/17 16:47:56 [Server1] Reset it's timer to 710ms milliseconds after 2020-12-17 16:47:56.756524 -0800 PST m=+81.504410518
2020/12/17 16:47:56 [Server0] Reset it's timer to 571ms milliseconds after 2020-12-17 16:47:56.756447 -0800 PST m=+81.504333258
2020/12/17 16:47:56 [Progress] Line 84 passed
  ... Passed --   6.5  3   97    7549    0
2020/12/17 16:47:56 [Server0] Make()
2020/12/17 16:47:56 [Server1] Make()
2020/12/17 16:47:56 [Server2] Make()
Test (2A): initial election ...
2020/12/17 16:47:56 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:56 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:57 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:57 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:57 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:57 [Server1] Start an election, it's currentTerm is 1
2020/12/17 16:47:57 [Server1] Send vote request to Server2
2020/12/17 16:47:57 [Server1] Send vote request to Server0
2020/12/17 16:47:57 [Server0] Received vote request from Server1
2020/12/17 16:47:57 [Server0] Vote true for request from Server1
2020/12/17 16:47:57 [Server2] Received vote request from Server1
2020/12/17 16:47:57 [Server2] Vote true for request from Server1
2020/12/17 16:47:57 [Server1] Received 2 votes, win an election
2020/12/17 16:47:57 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:57 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:57 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:57 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:57 [Server0] Reset it's timer to 788ms milliseconds after 2020-12-17 16:47:57.430909 -0800 PST m=+82.178792246
2020/12/17 16:47:57 [Server2] Reset it's timer to 509ms milliseconds after 2020-12-17 16:47:57.430865 -0800 PST m=+82.178748448
2020/12/17 16:47:57 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:57 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:57 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:57 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:57 [Server2] Reset it's timer to 621ms milliseconds after 2020-12-17 16:47:57.631668 -0800 PST m=+82.379550877
2020/12/17 16:47:57 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:57 [Server0] Reset it's timer to 524ms milliseconds after 2020-12-17 16:47:57.631782 -0800 PST m=+82.379664279
2020/12/17 16:47:57 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:57 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:57 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:57 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:57 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:47:57 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:57 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:57 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:57 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:57 [Server2] Reset it's timer to 651ms milliseconds after 2020-12-17 16:47:57.834075 -0800 PST m=+82.581956690
2020/12/17 16:47:57 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:57 [Server0] Reset it's timer to 694ms milliseconds after 2020-12-17 16:47:57.834206 -0800 PST m=+82.582087708
2020/12/17 16:47:57 [Sleep] Before sleep
2020/12/17 16:47:58 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:58 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:58 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:58 [Server2] Reset it's timer to 562ms milliseconds after 2020-12-17 16:47:58.038138 -0800 PST m=+82.786018608
2020/12/17 16:47:58 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:58 [Server0] Reset it's timer to 593ms milliseconds after 2020-12-17 16:47:58.038219 -0800 PST m=+82.786100456
2020/12/17 16:47:58 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:58 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:58 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:58 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:58 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:58 [Server2] Reset it's timer to 548ms milliseconds after 2020-12-17 16:47:58.239011 -0800 PST m=+82.986891187
2020/12/17 16:47:58 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:58 [Server0] Reset it's timer to 603ms milliseconds after 2020-12-17 16:47:58.239127 -0800 PST m=+82.987007411
2020/12/17 16:47:58 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:58 [Server2] Error when sending vote request to server 0, retry
2020/12/17 16:47:58 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:58 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:58 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:58 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:58 [Server0] Reset it's timer to 573ms milliseconds after 2020-12-17 16:47:58.440363 -0800 PST m=+83.188242509
2020/12/17 16:47:58 [Server2] Reset it's timer to 798ms milliseconds after 2020-12-17 16:47:58.440307 -0800 PST m=+83.188186058
2020/12/17 16:47:58 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:47:58 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:58 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:58 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:58 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:58 [Server2] Reset it's timer to 584ms milliseconds after 2020-12-17 16:47:58.644529 -0800 PST m=+83.392407301
2020/12/17 16:47:58 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:58 [Server0] Reset it's timer to 618ms milliseconds after 2020-12-17 16:47:58.644621 -0800 PST m=+83.392499629
2020/12/17 16:47:58 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:58 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:58 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:58 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:58 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:58 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:58 [Server2] Reset it's timer to 548ms milliseconds after 2020-12-17 16:47:58.846713 -0800 PST m=+83.594590373
2020/12/17 16:47:58 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:58 [Server0] Reset it's timer to 786ms milliseconds after 2020-12-17 16:47:58.846816 -0800 PST m=+83.594693799
2020/12/17 16:47:58 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:58 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:59 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:59 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:59 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:59 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:59 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:59 [Server2] Reset it's timer to 730ms milliseconds after 2020-12-17 16:47:59.049396 -0800 PST m=+83.797272388
2020/12/17 16:47:59 [Server0] Reset it's timer to 505ms milliseconds after 2020-12-17 16:47:59.049346 -0800 PST m=+83.797222636
2020/12/17 16:47:59 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:59 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:47:59 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:59 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:59 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:59 [Server2] Reset it's timer to 608ms milliseconds after 2020-12-17 16:47:59.251604 -0800 PST m=+83.999480215
2020/12/17 16:47:59 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:59 [Server0] Reset it's timer to 540ms milliseconds after 2020-12-17 16:47:59.251685 -0800 PST m=+83.999561301
2020/12/17 16:47:59 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:59 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:47:59 [Server0] Error when sending vote request to server 1, retry
2020/12/17 16:47:59 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:47:59 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:59 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:59 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:59 [Server2] Reset it's timer to 529ms milliseconds after 2020-12-17 16:47:59.451561 -0800 PST m=+84.199436143
2020/12/17 16:47:59 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:59 [Server0] Reset it's timer to 686ms milliseconds after 2020-12-17 16:47:59.451649 -0800 PST m=+84.199524258
2020/12/17 16:47:59 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:59 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:59 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:59 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:59 [Server2] Reset it's timer to 540ms milliseconds after 2020-12-17 16:47:59.652061 -0800 PST m=+84.399935154
2020/12/17 16:47:59 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:59 [Server0] Reset it's timer to 737ms milliseconds after 2020-12-17 16:47:59.652093 -0800 PST m=+84.399967376
2020/12/17 16:47:59 [Server1] Sent heartbeat to Server2
2020/12/17 16:47:59 [Server1] Sent heartbeat to Server0
2020/12/17 16:47:59 [Server2] Received append entries with equal term form Server1
2020/12/17 16:47:59 [Server2] Reset it's timer to 731ms milliseconds after 2020-12-17 16:47:59.852279 -0800 PST m=+84.600152209
2020/12/17 16:47:59 [Server0] Received append entries with equal term form Server1
2020/12/17 16:47:59 [Server0] Reset it's timer to 527ms milliseconds after 2020-12-17 16:47:59.852383 -0800 PST m=+84.600256031
2020/12/17 16:47:59 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:59 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:47:59 [Sleep] After sleep
2020/12/17 16:48:00 [Server1] Sent heartbeat to Server2
2020/12/17 16:48:00 [Server1] Sent heartbeat to Server0
2020/12/17 16:48:00 [Server2] Received append entries with equal term form Server1
2020/12/17 16:48:00 [Server2] Reset it's timer to 789ms milliseconds after 2020-12-17 16:48:00.055965 -0800 PST m=+84.803837294
2020/12/17 16:48:00 [Server0] Received append entries with equal term form Server1
2020/12/17 16:48:00 [Server0] Reset it's timer to 523ms milliseconds after 2020-12-17 16:48:00.056041 -0800 PST m=+84.803913219
2020/12/17 16:48:00 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:48:00 [Server1] Sent heartbeat to Server2
2020/12/17 16:48:00 [Server1] Sent heartbeat to Server0
2020/12/17 16:48:00 [Server2] Received append entries with equal term form Server1
2020/12/17 16:48:00 [Server2] Reset it's timer to 624ms milliseconds after 2020-12-17 16:48:00.256664 -0800 PST m=+85.004535385
2020/12/17 16:48:00 [Server0] Received append entries with equal term form Server1
2020/12/17 16:48:00 [Server0] Reset it's timer to 559ms milliseconds after 2020-12-17 16:48:00.256723 -0800 PST m=+85.004595074
2020/12/17 16:48:00 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:48:00 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:48:00 [Server1] Sent heartbeat to Server2
2020/12/17 16:48:00 [Server1] Sent heartbeat to Server0
2020/12/17 16:48:00 [Server2] Received append entries with equal term form Server1
2020/12/17 16:48:00 [Server2] Reset it's timer to 582ms milliseconds after 2020-12-17 16:48:00.457135 -0800 PST m=+85.205005788
2020/12/17 16:48:00 [Server0] Received append entries with equal term form Server1
2020/12/17 16:48:00 [Server0] Reset it's timer to 686ms milliseconds after 2020-12-17 16:48:00.457218 -0800 PST m=+85.205089065
  ... Passed --   3.6  3   34    3774    0
2020/12/17 16:48:00 [Server0] Make()
2020/12/17 16:48:00 [Server1] Make()
2020/12/17 16:48:00 [Server2] Make()
Test (2A): election after network failure ...
2020/12/17 16:48:00 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:48:00 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:48:00 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:48:00 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:48:00 [Server2] Error when sending vote request to server 1, retry
2020/12/17 16:48:00 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:48:01 [Server1] Error when sending heartbeat to Server0
2020/12/17 16:48:01 [Server0] Start an election, it's currentTerm is 1
2020/12/17 16:48:01 [Server0] Send vote request to Server2
2020/12/17 16:48:01 [Server0] Send vote request to Server1
2020/12/17 16:48:01 [Server2] Received vote request from Server0
2020/12/17 16:48:01 [Server2] Vote true for request from Server0
2020/12/17 16:48:01 [Server1] Received vote request from Server0
2020/12/17 16:48:01 [Server1] Vote true for request from Server0
2020/12/17 16:48:01 [Server0] Received 2 votes, win an election
2020/12/17 16:48:01 [Server0] Sent heartbeat to Server2
2020/12/17 16:48:01 [Server0] Sent heartbeat to Server1
2020/12/17 16:48:01 [Server2] Received append entries with equal term form Server0
2020/12/17 16:48:01 [Server2] Reset it's timer to 681ms milliseconds after 2020-12-17 16:48:01.050604 -0800 PST m=+85.798472416
2020/12/17 16:48:01 [Server1] Received append entries with equal term form Server0
2020/12/17 16:48:01 [Server1] Reset it's timer to 620ms milliseconds after 2020-12-17 16:48:01.050725 -0800 PST m=+85.798593379
2020/12/17 16:48:01 [Server0] Sent heartbeat to Server1
2020/12/17 16:48:01 [Server0] Sent heartbeat to Server2
2020/12/17 16:48:01 [Server1] Received append entries with equal term form Server0
2020/12/17 16:48:01 [Server1] Reset it's timer to 569ms milliseconds after 2020-12-17 16:48:01.253532 -0800 PST m=+86.001399723
2020/12/17 16:48:01 [Server2] Received append entries with equal term form Server0
2020/12/17 16:48:01 [Server2] Reset it's timer to 580ms milliseconds after 2020-12-17 16:48:01.253636 -0800 PST m=+86.001504310
2020/12/17 16:48:01 [Server0] Sent heartbeat to Server1
2020/12/17 16:48:01 [Server0] Sent heartbeat to Server2
2020/12/17 16:48:01 [Server1] Received append entries with equal term form Server0
2020/12/17 16:48:01 [Server1] Reset it's timer to 592ms milliseconds after 2020-12-17 16:48:01.453577 -0800 PST m=+86.201444482
2020/12/17 16:48:01 [Server2] Received append entries with equal term form Server0
2020/12/17 16:48:01 [Server2] Reset it's timer to 501ms milliseconds after 2020-12-17 16:48:01.45367 -0800 PST m=+86.201536654
2020/12/17 16:48:01 [Progress] Line 58 passed
2020/12/17 16:48:01 [Server0] Sent heartbeat to Server1
2020/12/17 16:48:01 [Server0] Sent heartbeat to Server2
2020/12/17 16:48:01 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:48:01 [Server0] Sent heartbeat to Server2
2020/12/17 16:48:01 [Server0] Sent heartbeat to Server1
2020/12/17 16:48:01 [Server2] Start an election, it's currentTerm is 2
2020/12/17 16:48:01 [Server2] Send vote request to Server1
2020/12/17 16:48:01 [Server2] Send vote request to Server0
2020/12/17 16:48:01 [Server1] Received vote request from Server2
2020/12/17 16:48:01 [Server1] Vote true for request from Server2
2020/12/17 16:48:01 [Server2] Received 2 votes, win an election
2020/12/17 16:48:01 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:01 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:01 [Server1] Received append entries with equal term form Server2
2020/12/17 16:48:01 [Server1] Reset it's timer to 560ms milliseconds after 2020-12-17 16:48:01.96513 -0800 PST m=+86.712994538
2020/12/17 16:48:01 [Progress] Line 62 passed
2020/12/17 16:48:02 [Server0] Sent heartbeat to Server2
2020/12/17 16:48:02 [Server0] Sent heartbeat to Server1
2020/12/17 16:48:02 [Server2] Received append entries with lower term form Server0
2020/12/17 16:48:02 [Server1] Received append entries with lower term form Server0
2020/12/17 16:48:02 [Server0] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:48:02 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:48:02 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:02 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:02 [Server1] Received append entries with equal term form Server2
2020/12/17 16:48:02 [Server1] Reset it's timer to 585ms milliseconds after 2020-12-17 16:48:02.165855 -0800 PST m=+86.913719468
2020/12/17 16:48:02 [Server0] Received append entries with equal term form Server2
2020/12/17 16:48:02 [Server0] Reset it's timer to 668ms milliseconds after 2020-12-17 16:48:02.165966 -0800 PST m=+86.913829716
2020/12/17 16:48:02 [Server0] Stop sending heartbeat because it is no longer leader
2020/12/17 16:48:02 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:02 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:02 [Server1] Received append entries with equal term form Server2
2020/12/17 16:48:02 [Server1] Reset it's timer to 598ms milliseconds after 2020-12-17 16:48:02.366147 -0800 PST m=+87.114009714
2020/12/17 16:48:02 [Server0] Received append entries with equal term form Server2
2020/12/17 16:48:02 [Server0] Reset it's timer to 538ms milliseconds after 2020-12-17 16:48:02.366244 -0800 PST m=+87.114107346
2020/12/17 16:48:02 [Progress] Line 67 passed
2020/12/17 16:48:02 [Disconnect] Server2 and Server0 has disconnected
2020/12/17 16:48:02 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:02 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:02 [Server1] Error when sending heartbeat to Server2
2020/12/17 16:48:02 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:02 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:02 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:48:02 [Server0] Start an election, it's currentTerm is 3
2020/12/17 16:48:02 [Server0] Send vote request to Server2
2020/12/17 16:48:02 [Server0] Send vote request to Server1
2020/12/17 16:48:02 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:02 [Server1] Start an election, it's currentTerm is 3
2020/12/17 16:48:02 [Server1] Send vote request to Server2
2020/12/17 16:48:02 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:02 [Server1] Send vote request to Server0
2020/12/17 16:48:03 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:03 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:03 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:03 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:03 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:03 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:03 [Server0] Start an election, it's currentTerm is 4
2020/12/17 16:48:03 [Server0] Send vote request to Server2
2020/12/17 16:48:03 [Server0] Send vote request to Server1
2020/12/17 16:48:03 [Server1] Error when sending vote request to server 0, retry
2020/12/17 16:48:03 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:48:03 [Server1] Start an election, it's currentTerm is 4
2020/12/17 16:48:03 [Server1] Send vote request to Server2
2020/12/17 16:48:03 [Server1] Send vote request to Server0
2020/12/17 16:48:03 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:03 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:03 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:48:03 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:03 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:04 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:04 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:04 [Server1] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:48:04 [Server1] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:48:04 [Server1] Start an election, it's currentTerm is 5
2020/12/17 16:48:04 [Server1] Send vote request to Server2
2020/12/17 16:48:04 [Server1] Send vote request to Server0
2020/12/17 16:48:04 [Server0] Start an election, it's currentTerm is 5
2020/12/17 16:48:04 [Server0] Send vote request to Server2
2020/12/17 16:48:04 [Server0] Send vote request to Server1
2020/12/17 16:48:04 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:04 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:04 [Check]Server0 is not connected
2020/12/17 16:48:04 [Check]Server1 is not leader
2020/12/17 16:48:04 [Check]Server2 is not connected
2020/12/17 16:48:04 [Progress] Line 75 passed
2020/12/17 16:48:04 [Reconnect]Server0 has reconnected
2020/12/17 16:48:04 [Server0] Error when sending heartbeat to Server1
2020/12/17 16:48:04 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:04 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:04 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:48:04 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:04 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:04 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:48:04 [Server0] Error when sending vote request to server 2, retry
2020/12/17 16:48:04 [Server0] Times out when waiting for result of the election, so it ends the current election thread, the timer will start a new election thread
2020/12/17 16:48:04 [Server0] Start an election, it's currentTerm is 6
2020/12/17 16:48:04 [Server0] Send vote request to Server2
2020/12/17 16:48:04 [Server0] Send vote request to Server1
2020/12/17 16:48:04 [Server1] Received vote request from Server0
2020/12/17 16:48:04 [Server1] Vote true for request from Server0
2020/12/17 16:48:04 [Server0] Received 2 votes, win an election
2020/12/17 16:48:04 [Server0] End the election not in candidate state
2020/12/17 16:48:04 [Server0] Sent heartbeat to Server2
2020/12/17 16:48:04 [Server0] Sent heartbeat to Server1
2020/12/17 16:48:04 [Server1] Received append entries with equal term form Server0
2020/12/17 16:48:04 [Server1] Reset it's timer to 735ms milliseconds after 2020-12-17 16:48:04.926493 -0800 PST m=+89.674345516
2020/12/17 16:48:04 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:48:04 [Progress] Line 79 passed
2020/12/17 16:48:04 [Server2] Sent heartbeat to Server1
2020/12/17 16:48:04 [Server2] Sent heartbeat to Server0
2020/12/17 16:48:04 [Server1] Received append entries with lower term form Server2
2020/12/17 16:48:04 [Server0] Received append entries with lower term form Server2
2020/12/17 16:48:04 [Server2] Received response for a hearbeat, but findits term is smaller than that in the reply, so it set its term tothe new term and enter follower state(from leader state)
2020/12/17 16:48:05 [Server0] Sent heartbeat to Server2
2020/12/17 16:48:05 [Server0] Sent heartbeat to Server1
2020/12/17 16:48:05 [Server2] Received append entries with equal term form Server0
2020/12/17 16:48:05 [Server2] Reset it's timer to 792ms milliseconds after 2020-12-17 16:48:05.127496 -0800 PST m=+89.875347676
2020/12/17 16:48:05 [Server1] Received append entries with equal term form Server0
2020/12/17 16:48:05 [Server1] Reset it's timer to 768ms milliseconds after 2020-12-17 16:48:05.127584 -0800 PST m=+89.875435541
2020/12/17 16:48:05 [Server2] Stop sending heartbeat because it is no longer leader
2020/12/17 16:48:05 [Server0] Sent heartbeat to Server2
2020/12/17 16:48:05 [Server0] Sent heartbeat to Server1
2020/12/17 16:48:05 [Server2] Received append entries with equal term form Server0
2020/12/17 16:48:05 [Server2] Reset it's timer to 616ms milliseconds after 2020-12-17 16:48:05.327721 -0800 PST m=+90.075571626
2020/12/17 16:48:05 [Server1] Received append entries with equal term form Server0
2020/12/17 16:48:05 [Server1] Reset it's timer to 676ms milliseconds after 2020-12-17 16:48:05.327829 -0800 PST m=+90.075680231
2020/12/17 16:48:05 [Server2] Error when sending heartbeat to Server0
2020/12/17 16:48:05 [Server2] Error when sending heartbeat to Server1
2020/12/17 16:48:05 [Progress] Line 84 passed
  ... Passed --   5.0  3   70    5518    0
PASS
ok  	_/Users/zekai/6.824/src/raft	90.439s
